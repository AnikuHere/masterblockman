/* This file is generated by tdr. */
/* No manual modification is permitted. */

/* metalib version: 1 */
/* metalib md5sum: 65d0301c457c17200214e2e089e79aee */

/* creation time: Fri Apr 28 09:43:21 2023 */
/* tdr version: 2.5.0, build at 20111124 */


using System;
using System.Diagnostics;
using System.Collections.Generic;
using System.Runtime.InteropServices;
using System.Text;
using tsf4g_tdr_csharp;

namespace BattleProtocol
{


public interface tsf4g_csharp_interface
{
        TdrError.ErrorType construct();
        TdrError.ErrorType pack(ref byte[] buffer, int size, ref int usedSize, uint cutVer);
        TdrError.ErrorType pack(ref TdrWriteBuf destBuf, uint cutVer);
        TdrError.ErrorType unpack(ref byte[] buffer, int size, ref int usedSize, uint cutVer);
        TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer);
        TdrError.ErrorType load(ref byte[] buffer, int size, ref int usedSize, uint cutVer);
        TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer);
        TdrError.ErrorType visualize(ref string buffer,int indent , char separator);
        TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator);
        TdrError.ErrorType getSizeInfo(byte[] buffer, int size, ref uint sizeInfo);
        TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo);
}


/* 玩家坐标 */
public class CSPoint : tsf4g_csharp_interface
{
        /* public members */
        public Int32  x; // X轴
        public Int32  y; // Y轴
        public Int32  z; // Z轴

        /* construct methods */
        public CSPoint()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.x */
                {
                        ret = destBuf.writeInt32(this.x);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.y */
                {
                        ret = destBuf.writeInt32(this.y);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.z */
                {
                        ret = destBuf.writeInt32(this.z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.x */
                {
                        ret = srcBuf.readInt32(ref this.x);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.y */
                {
                        ret = srcBuf.readInt32(ref this.y);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.z */
                {
                        ret = srcBuf.readInt32(ref this.z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.x */
                {
                        ret = srcBuf.readInt32(ref this.x);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.y */
                {
                        ret = srcBuf.readInt32(ref this.y);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.z */
                {
                        ret = srcBuf.readInt32(ref this.z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.x */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[x]", "{0:d}", this.x);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.y */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[y]", "{0:d}", this.y);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.z */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[z]", "{0:d}", this.z);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 场景创建定义 */
public class BattleSceneParams : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iSceneID; // 场景ID

        /* construct methods */
        public BattleSceneParams()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleSceneParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleSceneParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleSceneParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iSceneID */
                {
                        ret = destBuf.writeInt32(this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleSceneParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleSceneParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleSceneParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iSceneID */
                {
                        ret = srcBuf.readInt32(ref this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleSceneParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleSceneParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleSceneParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iSceneID */
                {
                        ret = srcBuf.readInt32(ref this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iSceneID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSceneID]", "{0:d}", this.iSceneID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 英雄创建定义 */
public class BattleHeroCreateParam : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iResID; // 资源ID
        public Int32  iSkinID; // 皮肤ID

        /* construct methods */
        public BattleHeroCreateParam()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleHeroCreateParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleHeroCreateParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleHeroCreateParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iResID */
                {
                        ret = destBuf.writeInt32(this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iSkinID */
                {
                        ret = destBuf.writeInt32(this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleHeroCreateParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleHeroCreateParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleHeroCreateParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iSkinID */
                {
                        ret = srcBuf.readInt32(ref this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleHeroCreateParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleHeroCreateParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleHeroCreateParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iSkinID */
                {
                        ret = srcBuf.readInt32(ref this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iResID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iResID]", "{0:d}", this.iResID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iSkinID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSkinID]", "{0:d}", this.iSkinID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍系统设置创建定义 */
public class BattleTeamCreateSystemParam : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chKey; // 系统设置项
        public Int32  iParam1; // 系统设置参数1

        /* construct methods */
        public BattleTeamCreateSystemParam()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateSystemParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateSystemParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateSystemParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chKey */
                {
                        ret = destBuf.writeInt8(this.chKey);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iParam1 */
                {
                        ret = destBuf.writeInt32(this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateSystemParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateSystemParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateSystemParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chKey */
                {
                        ret = srcBuf.readInt8(ref this.chKey);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateSystemParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateSystemParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateSystemParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chKey */
                {
                        ret = srcBuf.readInt8(ref this.chKey);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chKey */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKey]", "0x{0:x2}", this.chKey);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iParam1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iParam1]", "{0:d}", this.iParam1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 符文属性 */
public class BattleCreateRuneAttr : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chAttrID; // 符文属性类型
        public sbyte  chAttrAddType; // 符文属性加成类型
        public Int32  iValue; // 符文值

        /* construct methods */
        public BattleCreateRuneAttr()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateRuneAttr.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateRuneAttr.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateRuneAttr.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chAttrID */
                {
                        ret = destBuf.writeInt8(this.chAttrID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chAttrAddType */
                {
                        ret = destBuf.writeInt8(this.chAttrAddType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iValue */
                {
                        ret = destBuf.writeInt32(this.iValue);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateRuneAttr.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateRuneAttr.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateRuneAttr.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chAttrID */
                {
                        ret = srcBuf.readInt8(ref this.chAttrID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chAttrAddType */
                {
                        ret = srcBuf.readInt8(ref this.chAttrAddType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iValue */
                {
                        ret = srcBuf.readInt32(ref this.iValue);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateRuneAttr.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateRuneAttr.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateRuneAttr.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chAttrID */
                {
                        ret = srcBuf.readInt8(ref this.chAttrID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chAttrAddType */
                {
                        ret = srcBuf.readInt8(ref this.chAttrAddType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iValue */
                {
                        ret = srcBuf.readInt32(ref this.iValue);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chAttrID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chAttrID]", "0x{0:x2}", this.chAttrID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chAttrAddType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chAttrAddType]", "0x{0:x2}", this.chAttrAddType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iValue */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iValue]", "{0:d}", this.iValue);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍战斗数值创建定义 */
public class BattleTeamCreateDataParam : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chAiModeType; // AI类型
        public sbyte  chBOpenAssist; // 是否开启AI托管
        public Int32  iTalentSkill; // 天赋技能
        public Int32  iSpySkill; // 侦查技能
        public sbyte  chTechTreeType; // 科技树类型
        public Int32  iExtDataID; // 附加数值ID,默认0(无)
        public BattleCreateRuneAttr [] astHeroRuneAttrs; // 英雄符文数值
        public BattleCreateRuneAttr [] astDogfaceRuneAttrs; // 士兵符文数值
        public BattleCreateRuneAttr [] astTeamRuneAttrs; // 科技符文数值

        /* construct methods */
        public BattleTeamCreateDataParam()
        {
                astHeroRuneAttrs = new BattleCreateRuneAttr[26];
                for(int astHeroRuneAttrs_i = 0; astHeroRuneAttrs_i < 26; astHeroRuneAttrs_i++)
                {
                        astHeroRuneAttrs[astHeroRuneAttrs_i] = new BattleCreateRuneAttr();
                }

                astDogfaceRuneAttrs = new BattleCreateRuneAttr[26];
                for(int astDogfaceRuneAttrs_i = 0; astDogfaceRuneAttrs_i < 26; astDogfaceRuneAttrs_i++)
                {
                        astDogfaceRuneAttrs[astDogfaceRuneAttrs_i] = new BattleCreateRuneAttr();
                }

                astTeamRuneAttrs = new BattleCreateRuneAttr[12];
                for(int astTeamRuneAttrs_i = 0; astTeamRuneAttrs_i < 12; astTeamRuneAttrs_i++)
                {
                        astTeamRuneAttrs[astTeamRuneAttrs_i] = new BattleCreateRuneAttr();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateDataParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateDataParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateDataParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chAiModeType */
                {
                        ret = destBuf.writeInt8(this.chAiModeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBOpenAssist */
                {
                        ret = destBuf.writeInt8(this.chBOpenAssist);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTalentSkill */
                {
                        ret = destBuf.writeInt32(this.iTalentSkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iSpySkill */
                {
                        ret = destBuf.writeInt32(this.iSpySkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chTechTreeType */
                {
                        ret = destBuf.writeInt8(this.chTechTreeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iExtDataID */
                {
                        ret = destBuf.writeInt32(this.iExtDataID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astHeroRuneAttrs */
                {
                        for (Int32 astHeroRuneAttrs_i = 0; astHeroRuneAttrs_i < 26; astHeroRuneAttrs_i++)
                        {
                                ret = this.astHeroRuneAttrs[astHeroRuneAttrs_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.astDogfaceRuneAttrs */
                {
                        for (Int32 astDogfaceRuneAttrs_i = 0; astDogfaceRuneAttrs_i < 26; astDogfaceRuneAttrs_i++)
                        {
                                ret = this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.astTeamRuneAttrs */
                {
                        for (Int32 astTeamRuneAttrs_i = 0; astTeamRuneAttrs_i < 12; astTeamRuneAttrs_i++)
                        {
                                ret = this.astTeamRuneAttrs[astTeamRuneAttrs_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateDataParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateDataParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateDataParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chAiModeType */
                {
                        ret = srcBuf.readInt8(ref this.chAiModeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBOpenAssist */
                {
                        ret = srcBuf.readInt8(ref this.chBOpenAssist);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTalentSkill */
                {
                        ret = srcBuf.readInt32(ref this.iTalentSkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iSpySkill */
                {
                        ret = srcBuf.readInt32(ref this.iSpySkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chTechTreeType */
                {
                        ret = srcBuf.readInt8(ref this.chTechTreeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iExtDataID */
                {
                        ret = srcBuf.readInt32(ref this.iExtDataID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astHeroRuneAttrs */
                {
                        for (Int32 astHeroRuneAttrs_i = 0; astHeroRuneAttrs_i < 26; astHeroRuneAttrs_i++)
                        {
                                ret = this.astHeroRuneAttrs[astHeroRuneAttrs_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.astDogfaceRuneAttrs */
                {
                        for (Int32 astDogfaceRuneAttrs_i = 0; astDogfaceRuneAttrs_i < 26; astDogfaceRuneAttrs_i++)
                        {
                                ret = this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.astTeamRuneAttrs */
                {
                        for (Int32 astTeamRuneAttrs_i = 0; astTeamRuneAttrs_i < 12; astTeamRuneAttrs_i++)
                        {
                                ret = this.astTeamRuneAttrs[astTeamRuneAttrs_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateDataParam.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateDataParam.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateDataParam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chAiModeType */
                {
                        ret = srcBuf.readInt8(ref this.chAiModeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBOpenAssist */
                {
                        ret = srcBuf.readInt8(ref this.chBOpenAssist);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTalentSkill */
                {
                        ret = srcBuf.readInt32(ref this.iTalentSkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iSpySkill */
                {
                        ret = srcBuf.readInt32(ref this.iSpySkill);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chTechTreeType */
                {
                        ret = srcBuf.readInt8(ref this.chTechTreeType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iExtDataID */
                {
                        ret = srcBuf.readInt32(ref this.iExtDataID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astHeroRuneAttrs */
                {
                        for (Int32 astHeroRuneAttrs_i = 0; astHeroRuneAttrs_i < 26; astHeroRuneAttrs_i++)
                        {
                                ret = this.astHeroRuneAttrs[astHeroRuneAttrs_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.astDogfaceRuneAttrs */
                {
                        for (Int32 astDogfaceRuneAttrs_i = 0; astDogfaceRuneAttrs_i < 26; astDogfaceRuneAttrs_i++)
                        {
                                ret = this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.astTeamRuneAttrs */
                {
                        for (Int32 astTeamRuneAttrs_i = 0; astTeamRuneAttrs_i < 12; astTeamRuneAttrs_i++)
                        {
                                ret = this.astTeamRuneAttrs[astTeamRuneAttrs_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chAiModeType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chAiModeType]", "0x{0:x2}", this.chAiModeType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBOpenAssist */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBOpenAssist]", "0x{0:x2}", this.chBOpenAssist);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTalentSkill */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTalentSkill]", "{0:d}", this.iTalentSkill);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iSpySkill */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSpySkill]", "{0:d}", this.iSpySkill);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chTechTreeType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTechTreeType]", "0x{0:x2}", this.chTechTreeType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iExtDataID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iExtDataID]", "{0:d}", this.iExtDataID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astHeroRuneAttrs */
                for (Int32 astHeroRuneAttrs_i = 0; astHeroRuneAttrs_i < 26; astHeroRuneAttrs_i++)
                {
                        if (null == this.astHeroRuneAttrs[astHeroRuneAttrs_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astHeroRuneAttrs]", astHeroRuneAttrs_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astHeroRuneAttrs[astHeroRuneAttrs_i] */
                        if (0 > indent)
                        {
                                ret = this.astHeroRuneAttrs[astHeroRuneAttrs_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astHeroRuneAttrs[astHeroRuneAttrs_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.astDogfaceRuneAttrs */
                for (Int32 astDogfaceRuneAttrs_i = 0; astDogfaceRuneAttrs_i < 26; astDogfaceRuneAttrs_i++)
                {
                        if (null == this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astDogfaceRuneAttrs]", astDogfaceRuneAttrs_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i] */
                        if (0 > indent)
                        {
                                ret = this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astDogfaceRuneAttrs[astDogfaceRuneAttrs_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.astTeamRuneAttrs */
                for (Int32 astTeamRuneAttrs_i = 0; astTeamRuneAttrs_i < 12; astTeamRuneAttrs_i++)
                {
                        if (null == this.astTeamRuneAttrs[astTeamRuneAttrs_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astTeamRuneAttrs]", astTeamRuneAttrs_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astTeamRuneAttrs[astTeamRuneAttrs_i] */
                        if (0 > indent)
                        {
                                ret = this.astTeamRuneAttrs[astTeamRuneAttrs_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astTeamRuneAttrs[astTeamRuneAttrs_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍创建信息 */
public class BattleTeamCreateParams : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chBActive; // 是否激活
        public sbyte  chLegionType; // 阵营
        public sbyte  chTeamType; // 队伍类型
        public sbyte  chRaceType; // 种族
        public BattleHeroCreateParam  stHeroParams; // 英雄信息
        public sbyte  chBIsPlayer; // 是否玩家
        public Int32  iPlayerID; // 玩家ID
        public byte [] szPlayName; // 玩家名字
        public Int32  iHeadIcon; // 玩家头像ID
        public sbyte  chRankLevel; // 段位等级
        public sbyte  chBControlPlayer; // 是否当前控制的
        public CSPoint  stCurPos; // 当前位置
        public CSPoint  stCurDir; // 当前朝向
        public BattleTeamCreateDataParam  stDatas; // 数值创建定义
        public BattleTeamCreateSystemParam [] astSystems; // 系统设置

        /* construct methods */
        public BattleTeamCreateParams()
        {
                stHeroParams = new BattleHeroCreateParam();
                szPlayName = new byte[64];
                stCurPos = new CSPoint();
                stCurDir = new CSPoint();
                stDatas = new BattleTeamCreateDataParam();
                astSystems = new BattleTeamCreateSystemParam[12];
                for(int astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                {
                        astSystems[astSystems_i] = new BattleTeamCreateSystemParam();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chBActive */
                {
                        ret = destBuf.writeInt8(this.chBActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLegionType */
                {
                        ret = destBuf.writeInt8(this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chTeamType */
                {
                        ret = destBuf.writeInt8(this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chRaceType */
                {
                        ret = destBuf.writeInt8(this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stHeroParams */
                {
                        ret = this.stHeroParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBIsPlayer */
                {
                        ret = destBuf.writeInt8(this.chBIsPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szPlayName */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szPlayName = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szPlayName = destBuf.getUsedSize();

                        Int32 realSize4szPlayName = TdrTypeUtil.cstrlen(this.szPlayName);

                        if (realSize4szPlayName >= 64)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szPlayName, realSize4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szPlayName */
                        Int32 size4szPlayName = destBuf.getUsedSize() - beginPos4szPlayName;
                        ret = destBuf.writeUInt32((UInt32)(size4szPlayName), sizePos4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.iHeadIcon */
                {
                        ret = destBuf.writeInt32(this.iHeadIcon);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chRankLevel */
                {
                        ret = destBuf.writeInt8(this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBControlPlayer */
                {
                        ret = destBuf.writeInt8(this.chBControlPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurPos */
                {
                        ret = this.stCurPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurDir */
                {
                        ret = this.stCurDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stDatas */
                {
                        ret = this.stDatas.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chBActive */
                {
                        ret = srcBuf.readInt8(ref this.chBActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stHeroParams */
                {
                        ret = this.stHeroParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBIsPlayer */
                {
                        ret = srcBuf.readInt8(ref this.chBIsPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szPlayName */
                {
                        /* get sizeinfo for this.szPlayName */
                        UInt32 size4szPlayName = 0;
                        ret = srcBuf.readUInt32(ref size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szPlayName > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szPlayName > this.szPlayName.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szPlayName)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szPlayName, (int)size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szPlayName[(int)size4szPlayName - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szPlayName = TdrTypeUtil.cstrlen(this.szPlayName) + 1;
                        if (size4szPlayName != realSize4szPlayName)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.iHeadIcon */
                {
                        ret = srcBuf.readInt32(ref this.iHeadIcon);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chRankLevel */
                {
                        ret = srcBuf.readInt8(ref this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBControlPlayer */
                {
                        ret = srcBuf.readInt8(ref this.chBControlPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurPos */
                {
                        ret = this.stCurPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurDir */
                {
                        ret = this.stCurDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stDatas */
                {
                        ret = this.stDatas.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleTeamCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleTeamCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleTeamCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chBActive */
                {
                        ret = srcBuf.readInt8(ref this.chBActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stHeroParams */
                {
                        ret = this.stHeroParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBIsPlayer */
                {
                        ret = srcBuf.readInt8(ref this.chBIsPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szPlayName */
                {
                        Int32 size4szPlayName = 64;

                        /* load */
                        ret = srcBuf.readCString(ref this.szPlayName, (int)size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.iHeadIcon */
                {
                        ret = srcBuf.readInt32(ref this.iHeadIcon);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chRankLevel */
                {
                        ret = srcBuf.readInt8(ref this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBControlPlayer */
                {
                        ret = srcBuf.readInt8(ref this.chBControlPlayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurPos */
                {
                        ret = this.stCurPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurDir */
                {
                        ret = this.stCurDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stDatas */
                {
                        ret = this.stDatas.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chBActive */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBActive]", "0x{0:x2}", this.chBActive);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLegionType]", "0x{0:x2}", this.chLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chTeamType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTeamType]", "0x{0:x2}", this.chTeamType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chRaceType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chRaceType]", "0x{0:x2}", this.chRaceType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stHeroParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stHeroParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stHeroParams */
                if (0 > indent)
                {
                        ret = this.stHeroParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stHeroParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.chBIsPlayer */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBIsPlayer]", "0x{0:x2}", this.chBIsPlayer);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szPlayName */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szPlayName]", this.szPlayName);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iHeadIcon */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iHeadIcon]", "{0:d}", this.iHeadIcon);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chRankLevel */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chRankLevel]", "0x{0:x2}", this.chRankLevel);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBControlPlayer */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBControlPlayer]", "0x{0:x2}", this.chBControlPlayer);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stCurPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurPos */
                if (0 > indent)
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurDir */
                if (0 > indent)
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stDatas */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stDatas]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stDatas */
                if (0 > indent)
                {
                        ret = this.stDatas.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stDatas.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.astSystems */
                for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                {
                        if (null == this.astSystems[astSystems_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astSystems]", astSystems_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astSystems[astSystems_i] */
                        if (0 > indent)
                        {
                                ret = this.astSystems[astSystems_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astSystems[astSystems_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 战场创建信息 */
public class BattleCreateParams : tsf4g_csharp_interface
{
        /* public members */
        public byte [] szGameVersion; // 游戏版本号
        public UInt64  ullBattleID; // 战场ID
        public Int32  iRandSeed; // 随机种子
        public Int32  iFramePerSecond; // 帧率比
        public BattleSceneParams  stSceneParams; // 场景
        public BattleTeamCreateParams [] astTeamStateParams; // 队伍

        /* construct methods */
        public BattleCreateParams()
        {
                szGameVersion = new byte[64];
                stSceneParams = new BattleSceneParams();
                astTeamStateParams = new BattleTeamCreateParams[8];
                for(int astTeamStateParams_i = 0; astTeamStateParams_i < 8; astTeamStateParams_i++)
                {
                        astTeamStateParams[astTeamStateParams_i] = new BattleTeamCreateParams();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.szGameVersion */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szGameVersion = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szGameVersion = destBuf.getUsedSize();

                        Int32 realSize4szGameVersion = TdrTypeUtil.cstrlen(this.szGameVersion);

                        if (realSize4szGameVersion >= 64)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szGameVersion, realSize4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szGameVersion */
                        Int32 size4szGameVersion = destBuf.getUsedSize() - beginPos4szGameVersion;
                        ret = destBuf.writeUInt32((UInt32)(size4szGameVersion), sizePos4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.ullBattleID */
                {
                        ret = destBuf.writeUInt64(this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iRandSeed */
                {
                        ret = destBuf.writeInt32(this.iRandSeed);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFramePerSecond */
                {
                        ret = destBuf.writeInt32(this.iFramePerSecond);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stSceneParams */
                {
                        ret = this.stSceneParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astTeamStateParams */
                {
                        for (Int32 astTeamStateParams_i = 0; astTeamStateParams_i < 8; astTeamStateParams_i++)
                        {
                                ret = this.astTeamStateParams[astTeamStateParams_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.szGameVersion */
                {
                        /* get sizeinfo for this.szGameVersion */
                        UInt32 size4szGameVersion = 0;
                        ret = srcBuf.readUInt32(ref size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szGameVersion > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szGameVersion > this.szGameVersion.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szGameVersion)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szGameVersion, (int)size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szGameVersion[(int)size4szGameVersion - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szGameVersion = TdrTypeUtil.cstrlen(this.szGameVersion) + 1;
                        if (size4szGameVersion != realSize4szGameVersion)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iRandSeed */
                {
                        ret = srcBuf.readInt32(ref this.iRandSeed);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFramePerSecond */
                {
                        ret = srcBuf.readInt32(ref this.iFramePerSecond);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stSceneParams */
                {
                        ret = this.stSceneParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astTeamStateParams */
                {
                        for (Int32 astTeamStateParams_i = 0; astTeamStateParams_i < 8; astTeamStateParams_i++)
                        {
                                ret = this.astTeamStateParams[astTeamStateParams_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleCreateParams.CURRVERSION < cutVer)
                {
                        cutVer = BattleCreateParams.CURRVERSION;
                }

                /* check cutversion */
                if (BattleCreateParams.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.szGameVersion */
                {
                        Int32 size4szGameVersion = 64;

                        /* load */
                        ret = srcBuf.readCString(ref this.szGameVersion, (int)size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iRandSeed */
                {
                        ret = srcBuf.readInt32(ref this.iRandSeed);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFramePerSecond */
                {
                        ret = srcBuf.readInt32(ref this.iFramePerSecond);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stSceneParams */
                {
                        ret = this.stSceneParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astTeamStateParams */
                {
                        for (Int32 astTeamStateParams_i = 0; astTeamStateParams_i < 8; astTeamStateParams_i++)
                        {
                                ret = this.astTeamStateParams[astTeamStateParams_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.szGameVersion */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szGameVersion]", this.szGameVersion);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.ullBattleID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[ullBattleID]", "{0:d}", this.ullBattleID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iRandSeed */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iRandSeed]", "{0:d}", this.iRandSeed);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFramePerSecond */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFramePerSecond]", "{0:d}", this.iFramePerSecond);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stSceneParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stSceneParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stSceneParams */
                if (0 > indent)
                {
                        ret = this.stSceneParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stSceneParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.astTeamStateParams */
                for (Int32 astTeamStateParams_i = 0; astTeamStateParams_i < 8; astTeamStateParams_i++)
                {
                        if (null == this.astTeamStateParams[astTeamStateParams_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astTeamStateParams]", astTeamStateParams_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astTeamStateParams[astTeamStateParams_i] */
                        if (0 > indent)
                        {
                                ret = this.astTeamStateParams[astTeamStateParams_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astTeamStateParams[astTeamStateParams_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 录像队伍额外信息 */
public class BattleReplaysTeamExtraInfo : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iTotalGold; // 玩家金币总量
        public Int16  nHeroKillCnt; // 英雄击杀数量
        public Int16  nDogfaceKillCnt; // 小兵击杀数量
        public sbyte  chIsMvp; // 是否MVP

        /* construct methods */
        public BattleReplaysTeamExtraInfo()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysTeamExtraInfo.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysTeamExtraInfo.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysTeamExtraInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iTotalGold */
                {
                        ret = destBuf.writeInt32(this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nHeroKillCnt */
                {
                        ret = destBuf.writeInt16(this.nHeroKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nDogfaceKillCnt */
                {
                        ret = destBuf.writeInt16(this.nDogfaceKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chIsMvp */
                {
                        ret = destBuf.writeInt8(this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysTeamExtraInfo.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysTeamExtraInfo.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysTeamExtraInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iTotalGold */
                {
                        ret = srcBuf.readInt32(ref this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nHeroKillCnt */
                {
                        ret = srcBuf.readInt16(ref this.nHeroKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nDogfaceKillCnt */
                {
                        ret = srcBuf.readInt16(ref this.nDogfaceKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chIsMvp */
                {
                        ret = srcBuf.readInt8(ref this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysTeamExtraInfo.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysTeamExtraInfo.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysTeamExtraInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iTotalGold */
                {
                        ret = srcBuf.readInt32(ref this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nHeroKillCnt */
                {
                        ret = srcBuf.readInt16(ref this.nHeroKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nDogfaceKillCnt */
                {
                        ret = srcBuf.readInt16(ref this.nDogfaceKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chIsMvp */
                {
                        ret = srcBuf.readInt8(ref this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iTotalGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalGold]", "{0:d}", this.iTotalGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nHeroKillCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nHeroKillCnt]", "{0:d}", this.nHeroKillCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nDogfaceKillCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nDogfaceKillCnt]", "{0:d}", this.nDogfaceKillCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chIsMvp */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chIsMvp]", "0x{0:x2}", this.chIsMvp);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 录像头信息 */
public class BattleReplaysHeader : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iMagic; // magic
        public Int32  iVersion; // 录像版本
        public byte [] szGameVersion; // 游戏版本号
        public sbyte  chBattleVsMode; // 战场对战模式
        public UInt64  ullBattleID; // 战场ID
        public Int32  iSceneID; // 场景ID
        public Int64  llCreateTime; // 录像创建时间戳
        public Int32  iFrameCnt; // 帧数目,为0表示战斗中断
        public sbyte  chBattleResult; // 战场结果
        public BattleCreateParams  stBattleCreateParams; // 战场创建参数
        public BattleReplaysTeamExtraInfo [] astTeamExtraInfos; // 录像队伍信息列表

        /* construct methods */
        public BattleReplaysHeader()
        {
                szGameVersion = new byte[64];
                stBattleCreateParams = new BattleCreateParams();
                astTeamExtraInfos = new BattleReplaysTeamExtraInfo[8];
                for(int astTeamExtraInfos_i = 0; astTeamExtraInfos_i < 8; astTeamExtraInfos_i++)
                {
                        astTeamExtraInfos[astTeamExtraInfos_i] = new BattleReplaysTeamExtraInfo();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysHeader.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysHeader.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysHeader.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iMagic */
                {
                        ret = destBuf.writeInt32(this.iMagic);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iVersion */
                {
                        ret = destBuf.writeInt32(this.iVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szGameVersion */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szGameVersion = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szGameVersion = destBuf.getUsedSize();

                        Int32 realSize4szGameVersion = TdrTypeUtil.cstrlen(this.szGameVersion);

                        if (realSize4szGameVersion >= 64)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szGameVersion, realSize4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szGameVersion */
                        Int32 size4szGameVersion = destBuf.getUsedSize() - beginPos4szGameVersion;
                        ret = destBuf.writeUInt32((UInt32)(size4szGameVersion), sizePos4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.chBattleVsMode */
                {
                        ret = destBuf.writeInt8(this.chBattleVsMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.ullBattleID */
                {
                        ret = destBuf.writeUInt64(this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iSceneID */
                {
                        ret = destBuf.writeInt32(this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.llCreateTime */
                {
                        ret = destBuf.writeInt64(this.llCreateTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrameCnt */
                {
                        ret = destBuf.writeInt32(this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBattleResult */
                {
                        ret = destBuf.writeInt8(this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stBattleCreateParams */
                {
                        ret = this.stBattleCreateParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astTeamExtraInfos */
                {
                        for (Int32 astTeamExtraInfos_i = 0; astTeamExtraInfos_i < 8; astTeamExtraInfos_i++)
                        {
                                ret = this.astTeamExtraInfos[astTeamExtraInfos_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysHeader.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysHeader.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysHeader.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iMagic */
                {
                        ret = srcBuf.readInt32(ref this.iMagic);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iVersion */
                {
                        ret = srcBuf.readInt32(ref this.iVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szGameVersion */
                {
                        /* get sizeinfo for this.szGameVersion */
                        UInt32 size4szGameVersion = 0;
                        ret = srcBuf.readUInt32(ref size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szGameVersion > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szGameVersion > this.szGameVersion.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szGameVersion)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szGameVersion, (int)size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szGameVersion[(int)size4szGameVersion - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szGameVersion = TdrTypeUtil.cstrlen(this.szGameVersion) + 1;
                        if (size4szGameVersion != realSize4szGameVersion)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.chBattleVsMode */
                {
                        ret = srcBuf.readInt8(ref this.chBattleVsMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iSceneID */
                {
                        ret = srcBuf.readInt32(ref this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.llCreateTime */
                {
                        ret = srcBuf.readInt64(ref this.llCreateTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBattleResult */
                {
                        ret = srcBuf.readInt8(ref this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stBattleCreateParams */
                {
                        ret = this.stBattleCreateParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astTeamExtraInfos */
                {
                        for (Int32 astTeamExtraInfos_i = 0; astTeamExtraInfos_i < 8; astTeamExtraInfos_i++)
                        {
                                ret = this.astTeamExtraInfos[astTeamExtraInfos_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || BattleReplaysHeader.CURRVERSION < cutVer)
                {
                        cutVer = BattleReplaysHeader.CURRVERSION;
                }

                /* check cutversion */
                if (BattleReplaysHeader.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iMagic */
                {
                        ret = srcBuf.readInt32(ref this.iMagic);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iVersion */
                {
                        ret = srcBuf.readInt32(ref this.iVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szGameVersion */
                {
                        Int32 size4szGameVersion = 64;

                        /* load */
                        ret = srcBuf.readCString(ref this.szGameVersion, (int)size4szGameVersion);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.chBattleVsMode */
                {
                        ret = srcBuf.readInt8(ref this.chBattleVsMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iSceneID */
                {
                        ret = srcBuf.readInt32(ref this.iSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.llCreateTime */
                {
                        ret = srcBuf.readInt64(ref this.llCreateTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBattleResult */
                {
                        ret = srcBuf.readInt8(ref this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stBattleCreateParams */
                {
                        ret = this.stBattleCreateParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astTeamExtraInfos */
                {
                        for (Int32 astTeamExtraInfos_i = 0; astTeamExtraInfos_i < 8; astTeamExtraInfos_i++)
                        {
                                ret = this.astTeamExtraInfos[astTeamExtraInfos_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iMagic */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iMagic]", "{0:d}", this.iMagic);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iVersion */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iVersion]", "{0:d}", this.iVersion);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szGameVersion */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szGameVersion]", this.szGameVersion);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBattleVsMode */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBattleVsMode]", "0x{0:x2}", this.chBattleVsMode);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.ullBattleID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[ullBattleID]", "{0:d}", this.ullBattleID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iSceneID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSceneID]", "{0:d}", this.iSceneID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.llCreateTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[llCreateTime]", "{0:d}", this.llCreateTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFrameCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameCnt]", "{0:d}", this.iFrameCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBattleResult */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBattleResult]", "0x{0:x2}", this.chBattleResult);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stBattleCreateParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleCreateParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stBattleCreateParams */
                if (0 > indent)
                {
                        ret = this.stBattleCreateParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stBattleCreateParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.astTeamExtraInfos */
                for (Int32 astTeamExtraInfos_i = 0; astTeamExtraInfos_i < 8; astTeamExtraInfos_i++)
                {
                        if (null == this.astTeamExtraInfos[astTeamExtraInfos_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astTeamExtraInfos]", astTeamExtraInfos_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astTeamExtraInfos[astTeamExtraInfos_i] */
                        if (0 > indent)
                        {
                                ret = this.astTeamExtraInfos[astTeamExtraInfos_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astTeamExtraInfos[astTeamExtraInfos_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 技能栏统计 */
public class CSStatisticsActorSkillBar : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iDps; // 伤害
        public Int16  nCastCnt; // 释放次数
        public Int32  iReHp; // 治疗量

        /* construct methods */
        public CSStatisticsActorSkillBar()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActorSkillBar.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActorSkillBar.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActorSkillBar.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iDps */
                {
                        ret = destBuf.writeInt32(this.iDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nCastCnt */
                {
                        ret = destBuf.writeInt16(this.nCastCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iReHp */
                {
                        ret = destBuf.writeInt32(this.iReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActorSkillBar.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActorSkillBar.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActorSkillBar.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iDps */
                {
                        ret = srcBuf.readInt32(ref this.iDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nCastCnt */
                {
                        ret = srcBuf.readInt16(ref this.nCastCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iReHp */
                {
                        ret = srcBuf.readInt32(ref this.iReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActorSkillBar.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActorSkillBar.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActorSkillBar.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iDps */
                {
                        ret = srcBuf.readInt32(ref this.iDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nCastCnt */
                {
                        ret = srcBuf.readInt16(ref this.nCastCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iReHp */
                {
                        ret = srcBuf.readInt32(ref this.iReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iDps]", "{0:d}", this.iDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nCastCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nCastCnt]", "{0:d}", this.nCastCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iReHp */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iReHp]", "{0:d}", this.iReHp);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* actor统计信息 */
public class CSStatisticsActor : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chActorType; // 单位类型
        public Int32  iResID; // 资源ID
        public Int32  iSkinID; // 皮肤ID,只有英雄有
        public sbyte  chCnt; // 总个数
        public sbyte  chLiveCnt; // 存活个数
        public Int32  iFristConstructTime; // 首次训练时间
        public Int16  nConstuctGold; // 训练金币,计算价值量用
        public Int32  iTotalDps; // 总伤害
        public Int32  iTotalToHeroDps; // 对英雄伤害总量
        public Int32  iTotalToDogfaceDps; // 对小兵伤害总量
        public Int32  iTotalToBuildDps; // 对建筑伤害总量
        public Int32  iTotalToMonsterDps; // 对野怪伤害总量
        public Int32  iTotalNormalSkillDps; // 普通攻击总伤害
        public Int32  iTotalSkillsDps; // 技能总伤害
        public CSStatisticsActorSkillBar [] astSkillBars; // 技能栏统计,QWER
        public Int32  iTotalReHp; // 治疗总量
        public Int32  iTotalDmgToler; // 承受伤害总量,排除野怪
        public Int32  iDogfaceDmgToler; // 承受小兵伤害总量
        public Int32  iHeroDmgToler; // 承受英雄伤害量
        public sbyte  chBookAttrBuffLayer; // 属性书BUFF层数
        public Int32  iInBattleTime; // 进入战斗时间
        public Int16 [] TeamBeKillCnt; // 被队伍击杀统计

        /* construct methods */
        public CSStatisticsActor()
        {
                astSkillBars = new CSStatisticsActorSkillBar[4];
                for(int astSkillBars_i = 0; astSkillBars_i < 4; astSkillBars_i++)
                {
                        astSkillBars[astSkillBars_i] = new CSStatisticsActorSkillBar();
                }

                TeamBeKillCnt = new Int16[8];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActor.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActor.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActor.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chActorType */
                {
                        ret = destBuf.writeInt8(this.chActorType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iResID */
                {
                        ret = destBuf.writeInt32(this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iSkinID */
                {
                        ret = destBuf.writeInt32(this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chCnt */
                {
                        ret = destBuf.writeInt8(this.chCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLiveCnt */
                {
                        ret = destBuf.writeInt8(this.chLiveCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFristConstructTime */
                {
                        ret = destBuf.writeInt32(this.iFristConstructTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nConstuctGold */
                {
                        ret = destBuf.writeInt16(this.nConstuctGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalDps */
                {
                        ret = destBuf.writeInt32(this.iTotalDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalToHeroDps */
                {
                        ret = destBuf.writeInt32(this.iTotalToHeroDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalToDogfaceDps */
                {
                        ret = destBuf.writeInt32(this.iTotalToDogfaceDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalToBuildDps */
                {
                        ret = destBuf.writeInt32(this.iTotalToBuildDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalToMonsterDps */
                {
                        ret = destBuf.writeInt32(this.iTotalToMonsterDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalNormalSkillDps */
                {
                        ret = destBuf.writeInt32(this.iTotalNormalSkillDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalSkillsDps */
                {
                        ret = destBuf.writeInt32(this.iTotalSkillsDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astSkillBars */
                {
                        for (Int32 astSkillBars_i = 0; astSkillBars_i < 4; astSkillBars_i++)
                        {
                                ret = this.astSkillBars[astSkillBars_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.iTotalReHp */
                {
                        ret = destBuf.writeInt32(this.iTotalReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTotalDmgToler */
                {
                        ret = destBuf.writeInt32(this.iTotalDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iDogfaceDmgToler */
                {
                        ret = destBuf.writeInt32(this.iDogfaceDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iHeroDmgToler */
                {
                        ret = destBuf.writeInt32(this.iHeroDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBookAttrBuffLayer */
                {
                        ret = destBuf.writeInt8(this.chBookAttrBuffLayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iInBattleTime */
                {
                        ret = destBuf.writeInt32(this.iInBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.TeamBeKillCnt */
                {
                        for (Int32 TeamBeKillCnt_i = 0; TeamBeKillCnt_i < 8; TeamBeKillCnt_i++)
                        {
                                ret = destBuf.writeInt16(this.TeamBeKillCnt[TeamBeKillCnt_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActor.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActor.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActor.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chActorType */
                {
                        ret = srcBuf.readInt8(ref this.chActorType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iSkinID */
                {
                        ret = srcBuf.readInt32(ref this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chCnt */
                {
                        ret = srcBuf.readInt8(ref this.chCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLiveCnt */
                {
                        ret = srcBuf.readInt8(ref this.chLiveCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFristConstructTime */
                {
                        ret = srcBuf.readInt32(ref this.iFristConstructTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nConstuctGold */
                {
                        ret = srcBuf.readInt16(ref this.nConstuctGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalToHeroDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToHeroDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalToDogfaceDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToDogfaceDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalToBuildDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToBuildDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalToMonsterDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToMonsterDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalNormalSkillDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalNormalSkillDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalSkillsDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalSkillsDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astSkillBars */
                {
                        for (Int32 astSkillBars_i = 0; astSkillBars_i < 4; astSkillBars_i++)
                        {
                                ret = this.astSkillBars[astSkillBars_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.iTotalReHp */
                {
                        ret = srcBuf.readInt32(ref this.iTotalReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTotalDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iTotalDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iDogfaceDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iDogfaceDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iHeroDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iHeroDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBookAttrBuffLayer */
                {
                        ret = srcBuf.readInt8(ref this.chBookAttrBuffLayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iInBattleTime */
                {
                        ret = srcBuf.readInt32(ref this.iInBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.TeamBeKillCnt */
                {
                        for (Int32 TeamBeKillCnt_i = 0; TeamBeKillCnt_i < 8; TeamBeKillCnt_i++)
                        {
                                ret = srcBuf.readInt16(ref this.TeamBeKillCnt[TeamBeKillCnt_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsActor.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsActor.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsActor.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chActorType */
                {
                        ret = srcBuf.readInt8(ref this.chActorType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iSkinID */
                {
                        ret = srcBuf.readInt32(ref this.iSkinID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chCnt */
                {
                        ret = srcBuf.readInt8(ref this.chCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLiveCnt */
                {
                        ret = srcBuf.readInt8(ref this.chLiveCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFristConstructTime */
                {
                        ret = srcBuf.readInt32(ref this.iFristConstructTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nConstuctGold */
                {
                        ret = srcBuf.readInt16(ref this.nConstuctGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalToHeroDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToHeroDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalToDogfaceDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToDogfaceDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalToBuildDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToBuildDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalToMonsterDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalToMonsterDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalNormalSkillDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalNormalSkillDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalSkillsDps */
                {
                        ret = srcBuf.readInt32(ref this.iTotalSkillsDps);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astSkillBars */
                {
                        for (Int32 astSkillBars_i = 0; astSkillBars_i < 4; astSkillBars_i++)
                        {
                                ret = this.astSkillBars[astSkillBars_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.iTotalReHp */
                {
                        ret = srcBuf.readInt32(ref this.iTotalReHp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTotalDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iTotalDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iDogfaceDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iDogfaceDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iHeroDmgToler */
                {
                        ret = srcBuf.readInt32(ref this.iHeroDmgToler);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBookAttrBuffLayer */
                {
                        ret = srcBuf.readInt8(ref this.chBookAttrBuffLayer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iInBattleTime */
                {
                        ret = srcBuf.readInt32(ref this.iInBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.TeamBeKillCnt */
                {
                        for (Int32 TeamBeKillCnt_i = 0; TeamBeKillCnt_i < 8; TeamBeKillCnt_i++)
                        {
                                ret = srcBuf.readInt16(ref this.TeamBeKillCnt[TeamBeKillCnt_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chActorType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chActorType]", "0x{0:x2}", this.chActorType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iResID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iResID]", "{0:d}", this.iResID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iSkinID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSkinID]", "{0:d}", this.iSkinID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chCnt]", "0x{0:x2}", this.chCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLiveCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLiveCnt]", "0x{0:x2}", this.chLiveCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFristConstructTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFristConstructTime]", "{0:d}", this.iFristConstructTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nConstuctGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nConstuctGold]", "{0:d}", this.nConstuctGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalDps]", "{0:d}", this.iTotalDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalToHeroDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalToHeroDps]", "{0:d}", this.iTotalToHeroDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalToDogfaceDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalToDogfaceDps]", "{0:d}", this.iTotalToDogfaceDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalToBuildDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalToBuildDps]", "{0:d}", this.iTotalToBuildDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalToMonsterDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalToMonsterDps]", "{0:d}", this.iTotalToMonsterDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalNormalSkillDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalNormalSkillDps]", "{0:d}", this.iTotalNormalSkillDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalSkillsDps */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalSkillsDps]", "{0:d}", this.iTotalSkillsDps);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astSkillBars */
                for (Int32 astSkillBars_i = 0; astSkillBars_i < 4; astSkillBars_i++)
                {
                        if (null == this.astSkillBars[astSkillBars_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astSkillBars]", astSkillBars_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astSkillBars[astSkillBars_i] */
                        if (0 > indent)
                        {
                                ret = this.astSkillBars[astSkillBars_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astSkillBars[astSkillBars_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.iTotalReHp */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalReHp]", "{0:d}", this.iTotalReHp);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iTotalDmgToler */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalDmgToler]", "{0:d}", this.iTotalDmgToler);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iDogfaceDmgToler */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iDogfaceDmgToler]", "{0:d}", this.iDogfaceDmgToler);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iHeroDmgToler */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iHeroDmgToler]", "{0:d}", this.iHeroDmgToler);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBookAttrBuffLayer */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBookAttrBuffLayer]", "0x{0:x2}", this.chBookAttrBuffLayer);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iInBattleTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iInBattleTime]", "{0:d}", this.iInBattleTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.TeamBeKillCnt */
                ret = TdrBufUtil.printArray(ref destBuf, indent, separator, "[TeamBeKillCnt]", 8);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }
                for (Int32 TeamBeKillCnt_i = 0; TeamBeKillCnt_i < 8; TeamBeKillCnt_i++)
                {
                        ret = destBuf.sprintf("{0:d}", this.TeamBeKillCnt[TeamBeKillCnt_i]);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                ret = destBuf.sprintf("{0}",separator);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 分矿统计信息 */
public class CSStatisticsGoldMine : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chIndex; // 索引
        public Int32  iBuildTime; // 开矿时间(秒)
        public Int32  iDeadTime; // 矿死亡时间(秒)

        /* construct methods */
        public CSStatisticsGoldMine()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGoldMine.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGoldMine.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGoldMine.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chIndex */
                {
                        ret = destBuf.writeInt8(this.chIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iBuildTime */
                {
                        ret = destBuf.writeInt32(this.iBuildTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iDeadTime */
                {
                        ret = destBuf.writeInt32(this.iDeadTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGoldMine.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGoldMine.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGoldMine.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chIndex */
                {
                        ret = srcBuf.readInt8(ref this.chIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iBuildTime */
                {
                        ret = srcBuf.readInt32(ref this.iBuildTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iDeadTime */
                {
                        ret = srcBuf.readInt32(ref this.iDeadTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGoldMine.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGoldMine.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGoldMine.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chIndex */
                {
                        ret = srcBuf.readInt8(ref this.chIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iBuildTime */
                {
                        ret = srcBuf.readInt32(ref this.iBuildTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iDeadTime */
                {
                        ret = srcBuf.readInt32(ref this.iDeadTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chIndex */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chIndex]", "0x{0:x2}", this.chIndex);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iBuildTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBuildTime]", "{0:d}", this.iBuildTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iDeadTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iDeadTime]", "{0:d}", this.iDeadTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍科技统计信息 */
public class CSStatisticsTechNologys : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chTechLv; // 科技等级
        public Int16  nUpgradeTime2; // 升级2本时间(秒)
        public Int16  nUpgradeTime3; // 升级3本时间(秒)
        public CSStatisticsGoldMine [] astGoldMines; // 分矿统计
        public Int16  nFoodUpTech1; // 升级1级人口时间(秒)
        public Int16  nFoodUpTech2; // 升级2级人口时间(秒)
        public Int16  nFoodUpTech3; // 升级3级人口时间(秒)
        public Int16  nFoodUpTech4; // 升级4级人口时间(秒)
        public Int16  nAtkUpTech1; // 升到1级攻击时间(秒)
        public Int16  nAtkUpTech2; // 升到2级攻击时间(秒)
        public Int16  nAtkUpTech3; // 升到3级攻击时间(秒)
        public Int16  nArmorUpTech1; // 升到1级防御的时间(秒)
        public Int16  nArmorUpTech2; // 升到2级防御的时间(秒)
        public Int16  nArmorUpTech3; // 升到3级防御的时间(秒)

        /* construct methods */
        public CSStatisticsTechNologys()
        {
                astGoldMines = new CSStatisticsGoldMine[3];
                for(int astGoldMines_i = 0; astGoldMines_i < 3; astGoldMines_i++)
                {
                        astGoldMines[astGoldMines_i] = new CSStatisticsGoldMine();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTechNologys.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTechNologys.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTechNologys.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chTechLv */
                {
                        ret = destBuf.writeInt8(this.chTechLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nUpgradeTime2 */
                {
                        ret = destBuf.writeInt16(this.nUpgradeTime2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nUpgradeTime3 */
                {
                        ret = destBuf.writeInt16(this.nUpgradeTime3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astGoldMines */
                {
                        for (Int32 astGoldMines_i = 0; astGoldMines_i < 3; astGoldMines_i++)
                        {
                                ret = this.astGoldMines[astGoldMines_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.nFoodUpTech1 */
                {
                        ret = destBuf.writeInt16(this.nFoodUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nFoodUpTech2 */
                {
                        ret = destBuf.writeInt16(this.nFoodUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nFoodUpTech3 */
                {
                        ret = destBuf.writeInt16(this.nFoodUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nFoodUpTech4 */
                {
                        ret = destBuf.writeInt16(this.nFoodUpTech4);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nAtkUpTech1 */
                {
                        ret = destBuf.writeInt16(this.nAtkUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nAtkUpTech2 */
                {
                        ret = destBuf.writeInt16(this.nAtkUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nAtkUpTech3 */
                {
                        ret = destBuf.writeInt16(this.nAtkUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nArmorUpTech1 */
                {
                        ret = destBuf.writeInt16(this.nArmorUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nArmorUpTech2 */
                {
                        ret = destBuf.writeInt16(this.nArmorUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nArmorUpTech3 */
                {
                        ret = destBuf.writeInt16(this.nArmorUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTechNologys.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTechNologys.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTechNologys.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chTechLv */
                {
                        ret = srcBuf.readInt8(ref this.chTechLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nUpgradeTime2 */
                {
                        ret = srcBuf.readInt16(ref this.nUpgradeTime2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nUpgradeTime3 */
                {
                        ret = srcBuf.readInt16(ref this.nUpgradeTime3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astGoldMines */
                {
                        for (Int32 astGoldMines_i = 0; astGoldMines_i < 3; astGoldMines_i++)
                        {
                                ret = this.astGoldMines[astGoldMines_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.nFoodUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nFoodUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nFoodUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nFoodUpTech4 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech4);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nAtkUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nAtkUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nAtkUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nArmorUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nArmorUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nArmorUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTechNologys.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTechNologys.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTechNologys.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chTechLv */
                {
                        ret = srcBuf.readInt8(ref this.chTechLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nUpgradeTime2 */
                {
                        ret = srcBuf.readInt16(ref this.nUpgradeTime2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nUpgradeTime3 */
                {
                        ret = srcBuf.readInt16(ref this.nUpgradeTime3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astGoldMines */
                {
                        for (Int32 astGoldMines_i = 0; astGoldMines_i < 3; astGoldMines_i++)
                        {
                                ret = this.astGoldMines[astGoldMines_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.nFoodUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nFoodUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nFoodUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nFoodUpTech4 */
                {
                        ret = srcBuf.readInt16(ref this.nFoodUpTech4);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nAtkUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nAtkUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nAtkUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nAtkUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nArmorUpTech1 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nArmorUpTech2 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nArmorUpTech3 */
                {
                        ret = srcBuf.readInt16(ref this.nArmorUpTech3);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chTechLv */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTechLv]", "0x{0:x2}", this.chTechLv);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nUpgradeTime2 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nUpgradeTime2]", "{0:d}", this.nUpgradeTime2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nUpgradeTime3 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nUpgradeTime3]", "{0:d}", this.nUpgradeTime3);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astGoldMines */
                for (Int32 astGoldMines_i = 0; astGoldMines_i < 3; astGoldMines_i++)
                {
                        if (null == this.astGoldMines[astGoldMines_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astGoldMines]", astGoldMines_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astGoldMines[astGoldMines_i] */
                        if (0 > indent)
                        {
                                ret = this.astGoldMines[astGoldMines_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astGoldMines[astGoldMines_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.nFoodUpTech1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nFoodUpTech1]", "{0:d}", this.nFoodUpTech1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nFoodUpTech2 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nFoodUpTech2]", "{0:d}", this.nFoodUpTech2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nFoodUpTech3 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nFoodUpTech3]", "{0:d}", this.nFoodUpTech3);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nFoodUpTech4 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nFoodUpTech4]", "{0:d}", this.nFoodUpTech4);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nAtkUpTech1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nAtkUpTech1]", "{0:d}", this.nAtkUpTech1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nAtkUpTech2 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nAtkUpTech2]", "{0:d}", this.nAtkUpTech2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nAtkUpTech3 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nAtkUpTech3]", "{0:d}", this.nAtkUpTech3);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nArmorUpTech1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nArmorUpTech1]", "{0:d}", this.nArmorUpTech1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nArmorUpTech2 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nArmorUpTech2]", "{0:d}", this.nArmorUpTech2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nArmorUpTech3 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nArmorUpTech3]", "{0:d}", this.nArmorUpTech3);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍伤害统计信息 */
public class CSStatisticsDmg : tsf4g_csharp_interface
{
        /* public members */
        public Int16  nKillHeroCnt; // 击杀英雄个数
        public Int16  nKillMonsterCnt; // 击杀野怪个数
        public Int16  nKillDogfaceCnt; // 击杀士兵个数
        public sbyte  chHeroBeKillCnt; // 英雄死亡次数
        public sbyte  chBuildGodmine; // 造矿个数
        public sbyte  chBuildTowerCnt; // 造塔个数
        public sbyte  chKillBigDragonCnt; // 杀大龙
        public sbyte  chKillSmallDragonCnt; // 杀小龙
        public sbyte  chKillBigTiTanCnt; // 杀大泰坦
        public sbyte  chKillSmallTiTanCnt; // 杀小泰坦
        public sbyte  chKillTowerCnt; // 摧毁防御塔个数
        public sbyte  chKillGoldMineCnt; // 摧毁金矿个数
        public sbyte  chKillSubBaseCnt; // 摧毁副基地个数
        public sbyte  chKillBaseCnt; // 摧毁基地个数
        public Int32  iKillPrice; // 击杀单位总价值
        public Int32  iAlivePrice; // 存活单位总价值
        public sbyte  chKillHeroLegendaryCnt; // 连续击杀N个英雄次数(王者再临)
        public sbyte  chKillDogfaceGodLikeCnt; // 连续击杀N个小兵次数(超神)

        /* construct methods */
        public CSStatisticsDmg()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDmg.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDmg.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDmg.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.nKillHeroCnt */
                {
                        ret = destBuf.writeInt16(this.nKillHeroCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nKillMonsterCnt */
                {
                        ret = destBuf.writeInt16(this.nKillMonsterCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nKillDogfaceCnt */
                {
                        ret = destBuf.writeInt16(this.nKillDogfaceCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chHeroBeKillCnt */
                {
                        ret = destBuf.writeInt8(this.chHeroBeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBuildGodmine */
                {
                        ret = destBuf.writeInt8(this.chBuildGodmine);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBuildTowerCnt */
                {
                        ret = destBuf.writeInt8(this.chBuildTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillBigDragonCnt */
                {
                        ret = destBuf.writeInt8(this.chKillBigDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillSmallDragonCnt */
                {
                        ret = destBuf.writeInt8(this.chKillSmallDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillBigTiTanCnt */
                {
                        ret = destBuf.writeInt8(this.chKillBigTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillSmallTiTanCnt */
                {
                        ret = destBuf.writeInt8(this.chKillSmallTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillTowerCnt */
                {
                        ret = destBuf.writeInt8(this.chKillTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillGoldMineCnt */
                {
                        ret = destBuf.writeInt8(this.chKillGoldMineCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillSubBaseCnt */
                {
                        ret = destBuf.writeInt8(this.chKillSubBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillBaseCnt */
                {
                        ret = destBuf.writeInt8(this.chKillBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iKillPrice */
                {
                        ret = destBuf.writeInt32(this.iKillPrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iAlivePrice */
                {
                        ret = destBuf.writeInt32(this.iAlivePrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillHeroLegendaryCnt */
                {
                        ret = destBuf.writeInt8(this.chKillHeroLegendaryCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chKillDogfaceGodLikeCnt */
                {
                        ret = destBuf.writeInt8(this.chKillDogfaceGodLikeCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDmg.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDmg.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDmg.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.nKillHeroCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillHeroCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nKillMonsterCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillMonsterCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nKillDogfaceCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillDogfaceCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chHeroBeKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chHeroBeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBuildGodmine */
                {
                        ret = srcBuf.readInt8(ref this.chBuildGodmine);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBuildTowerCnt */
                {
                        ret = srcBuf.readInt8(ref this.chBuildTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillBigDragonCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBigDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillSmallDragonCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSmallDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillBigTiTanCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBigTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillSmallTiTanCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSmallTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillTowerCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillGoldMineCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillGoldMineCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillSubBaseCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSubBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillBaseCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iKillPrice */
                {
                        ret = srcBuf.readInt32(ref this.iKillPrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iAlivePrice */
                {
                        ret = srcBuf.readInt32(ref this.iAlivePrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillHeroLegendaryCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillHeroLegendaryCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chKillDogfaceGodLikeCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillDogfaceGodLikeCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDmg.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDmg.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDmg.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.nKillHeroCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillHeroCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nKillMonsterCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillMonsterCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nKillDogfaceCnt */
                {
                        ret = srcBuf.readInt16(ref this.nKillDogfaceCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chHeroBeKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chHeroBeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBuildGodmine */
                {
                        ret = srcBuf.readInt8(ref this.chBuildGodmine);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBuildTowerCnt */
                {
                        ret = srcBuf.readInt8(ref this.chBuildTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillBigDragonCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBigDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillSmallDragonCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSmallDragonCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillBigTiTanCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBigTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillSmallTiTanCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSmallTiTanCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillTowerCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillTowerCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillGoldMineCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillGoldMineCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillSubBaseCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillSubBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillBaseCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillBaseCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iKillPrice */
                {
                        ret = srcBuf.readInt32(ref this.iKillPrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iAlivePrice */
                {
                        ret = srcBuf.readInt32(ref this.iAlivePrice);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillHeroLegendaryCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillHeroLegendaryCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chKillDogfaceGodLikeCnt */
                {
                        ret = srcBuf.readInt8(ref this.chKillDogfaceGodLikeCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.nKillHeroCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKillHeroCnt]", "{0:d}", this.nKillHeroCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKillMonsterCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKillMonsterCnt]", "{0:d}", this.nKillMonsterCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKillDogfaceCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKillDogfaceCnt]", "{0:d}", this.nKillDogfaceCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chHeroBeKillCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chHeroBeKillCnt]", "0x{0:x2}", this.chHeroBeKillCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBuildGodmine */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBuildGodmine]", "0x{0:x2}", this.chBuildGodmine);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBuildTowerCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBuildTowerCnt]", "0x{0:x2}", this.chBuildTowerCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillBigDragonCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillBigDragonCnt]", "0x{0:x2}", this.chKillBigDragonCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillSmallDragonCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillSmallDragonCnt]", "0x{0:x2}", this.chKillSmallDragonCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillBigTiTanCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillBigTiTanCnt]", "0x{0:x2}", this.chKillBigTiTanCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillSmallTiTanCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillSmallTiTanCnt]", "0x{0:x2}", this.chKillSmallTiTanCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillTowerCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillTowerCnt]", "0x{0:x2}", this.chKillTowerCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillGoldMineCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillGoldMineCnt]", "0x{0:x2}", this.chKillGoldMineCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillSubBaseCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillSubBaseCnt]", "0x{0:x2}", this.chKillSubBaseCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillBaseCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillBaseCnt]", "0x{0:x2}", this.chKillBaseCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iKillPrice */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iKillPrice]", "{0:d}", this.iKillPrice);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iAlivePrice */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iAlivePrice]", "{0:d}", this.iAlivePrice);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillHeroLegendaryCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillHeroLegendaryCnt]", "0x{0:x2}", this.chKillHeroLegendaryCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chKillDogfaceGodLikeCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chKillDogfaceGodLikeCnt]", "0x{0:x2}", this.chKillDogfaceGodLikeCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍金币统计信息 */
public class CSStatisticsGold : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iTotalGold; // 累计金币
        public Int32  iSystemGold; // 系统获取
        public Int32  iGoldMineGold; // 金矿获取
        public Int16  nKillMonsterGold; // 击杀野怪获取
        public Int16  nKillActorGold; // 击杀单位获取
        public Int16  nRepariGold; // 维修消耗
        public Int16  nBuildDogfaceGold; // 造兵消耗
        public Int16  nTechUpGold; // 科技升级消耗
        public Int16  nBuildOtherGold; // 造塔造矿消耗
        public Int32 [] GoldTimeline; // 金币获取统计时间,2000一个档

        /* construct methods */
        public CSStatisticsGold()
        {
                GoldTimeline = new Int32[6];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGold.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGold.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGold.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iTotalGold */
                {
                        ret = destBuf.writeInt32(this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iSystemGold */
                {
                        ret = destBuf.writeInt32(this.iSystemGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iGoldMineGold */
                {
                        ret = destBuf.writeInt32(this.iGoldMineGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nKillMonsterGold */
                {
                        ret = destBuf.writeInt16(this.nKillMonsterGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nKillActorGold */
                {
                        ret = destBuf.writeInt16(this.nKillActorGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nRepariGold */
                {
                        ret = destBuf.writeInt16(this.nRepariGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nBuildDogfaceGold */
                {
                        ret = destBuf.writeInt16(this.nBuildDogfaceGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nTechUpGold */
                {
                        ret = destBuf.writeInt16(this.nTechUpGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nBuildOtherGold */
                {
                        ret = destBuf.writeInt16(this.nBuildOtherGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.GoldTimeline */
                {
                        for (Int32 GoldTimeline_i = 0; GoldTimeline_i < 6; GoldTimeline_i++)
                        {
                                ret = destBuf.writeInt32(this.GoldTimeline[GoldTimeline_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGold.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGold.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGold.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iTotalGold */
                {
                        ret = srcBuf.readInt32(ref this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iSystemGold */
                {
                        ret = srcBuf.readInt32(ref this.iSystemGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iGoldMineGold */
                {
                        ret = srcBuf.readInt32(ref this.iGoldMineGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nKillMonsterGold */
                {
                        ret = srcBuf.readInt16(ref this.nKillMonsterGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nKillActorGold */
                {
                        ret = srcBuf.readInt16(ref this.nKillActorGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nRepariGold */
                {
                        ret = srcBuf.readInt16(ref this.nRepariGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nBuildDogfaceGold */
                {
                        ret = srcBuf.readInt16(ref this.nBuildDogfaceGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nTechUpGold */
                {
                        ret = srcBuf.readInt16(ref this.nTechUpGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nBuildOtherGold */
                {
                        ret = srcBuf.readInt16(ref this.nBuildOtherGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.GoldTimeline */
                {
                        for (Int32 GoldTimeline_i = 0; GoldTimeline_i < 6; GoldTimeline_i++)
                        {
                                ret = srcBuf.readInt32(ref this.GoldTimeline[GoldTimeline_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsGold.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsGold.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsGold.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iTotalGold */
                {
                        ret = srcBuf.readInt32(ref this.iTotalGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iSystemGold */
                {
                        ret = srcBuf.readInt32(ref this.iSystemGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iGoldMineGold */
                {
                        ret = srcBuf.readInt32(ref this.iGoldMineGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nKillMonsterGold */
                {
                        ret = srcBuf.readInt16(ref this.nKillMonsterGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nKillActorGold */
                {
                        ret = srcBuf.readInt16(ref this.nKillActorGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nRepariGold */
                {
                        ret = srcBuf.readInt16(ref this.nRepariGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nBuildDogfaceGold */
                {
                        ret = srcBuf.readInt16(ref this.nBuildDogfaceGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nTechUpGold */
                {
                        ret = srcBuf.readInt16(ref this.nTechUpGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nBuildOtherGold */
                {
                        ret = srcBuf.readInt16(ref this.nBuildOtherGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.GoldTimeline */
                {
                        for (Int32 GoldTimeline_i = 0; GoldTimeline_i < 6; GoldTimeline_i++)
                        {
                                ret = srcBuf.readInt32(ref this.GoldTimeline[GoldTimeline_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iTotalGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTotalGold]", "{0:d}", this.iTotalGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iSystemGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSystemGold]", "{0:d}", this.iSystemGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iGoldMineGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iGoldMineGold]", "{0:d}", this.iGoldMineGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKillMonsterGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKillMonsterGold]", "{0:d}", this.nKillMonsterGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKillActorGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKillActorGold]", "{0:d}", this.nKillActorGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nRepariGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nRepariGold]", "{0:d}", this.nRepariGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nBuildDogfaceGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nBuildDogfaceGold]", "{0:d}", this.nBuildDogfaceGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nTechUpGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nTechUpGold]", "{0:d}", this.nTechUpGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nBuildOtherGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nBuildOtherGold]", "{0:d}", this.nBuildOtherGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.GoldTimeline */
                ret = TdrBufUtil.printArray(ref destBuf, indent, separator, "[GoldTimeline]", 6);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }
                for (Int32 GoldTimeline_i = 0; GoldTimeline_i < 6; GoldTimeline_i++)
                {
                        ret = destBuf.sprintf("{0:d}", this.GoldTimeline[GoldTimeline_i]);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                ret = destBuf.sprintf("{0}",separator);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍英雄装备统计信息 */
public class CSStatisticsEquip : tsf4g_csharp_interface
{
        /* public members */
        public Int32 [] EquipID; // 装备ID列表

        /* construct methods */
        public CSStatisticsEquip()
        {
                EquipID = new Int32[6];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsEquip.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsEquip.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsEquip.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.EquipID */
                {
                        for (Int32 EquipID_i = 0; EquipID_i < 6; EquipID_i++)
                        {
                                ret = destBuf.writeInt32(this.EquipID[EquipID_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsEquip.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsEquip.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsEquip.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.EquipID */
                {
                        for (Int32 EquipID_i = 0; EquipID_i < 6; EquipID_i++)
                        {
                                ret = srcBuf.readInt32(ref this.EquipID[EquipID_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsEquip.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsEquip.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsEquip.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.EquipID */
                {
                        for (Int32 EquipID_i = 0; EquipID_i < 6; EquipID_i++)
                        {
                                ret = srcBuf.readInt32(ref this.EquipID[EquipID_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.EquipID */
                ret = TdrBufUtil.printArray(ref destBuf, indent, separator, "[EquipID]", 6);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }
                for (Int32 EquipID_i = 0; EquipID_i < 6; EquipID_i++)
                {
                        ret = destBuf.sprintf("{0:d}", this.EquipID[EquipID_i]);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                ret = destBuf.sprintf("{0}",separator);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 队伍统计信息 */
public class CSStatisticsTeam : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chActive; // 是否激活
        public Int32  iPlayID; // 玩家ID
        public byte [] szPlayName; // 玩家名字
        public sbyte  chTeamType; // 队伍类型 
        public sbyte  chRaceType; // 种族类型
        public sbyte  chLegionType; // 阵营类型
        public sbyte  chHeroLv; // 英雄等级
        public sbyte  chActorResIDCnt; // ActorResID类型个数
        public Int32  iBattleScore; // MVP分数
        public sbyte  chIsMvp; // 是否MVP
        public sbyte  chRankLevel; // 段位等级
        public CSStatisticsActor [] astActorStatistic; // actor统计信息
        public CSStatisticsTechNologys  stTechStatistic; // 队伍科技统计信息
        public CSStatisticsDmg  stDmgStatistics; // 伤害统计信息
        public CSStatisticsGold  stGoldStatistics; // 金币统计信息
        public CSStatisticsEquip  stEquipStatistics; // 装备统计信息

        /* construct methods */
        public CSStatisticsTeam()
        {
                szPlayName = new byte[64];
                astActorStatistic = new CSStatisticsActor[32];
                for(int astActorStatistic_i = 0; astActorStatistic_i < 32; astActorStatistic_i++)
                {
                        astActorStatistic[astActorStatistic_i] = new CSStatisticsActor();
                }

                stTechStatistic = new CSStatisticsTechNologys();
                stDmgStatistics = new CSStatisticsDmg();
                stGoldStatistics = new CSStatisticsGold();
                stEquipStatistics = new CSStatisticsEquip();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTeam.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTeam.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTeam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chActive */
                {
                        ret = destBuf.writeInt8(this.chActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iPlayID */
                {
                        ret = destBuf.writeInt32(this.iPlayID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szPlayName */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szPlayName = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szPlayName = destBuf.getUsedSize();

                        Int32 realSize4szPlayName = TdrTypeUtil.cstrlen(this.szPlayName);

                        if (realSize4szPlayName >= 64)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szPlayName, realSize4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szPlayName */
                        Int32 size4szPlayName = destBuf.getUsedSize() - beginPos4szPlayName;
                        ret = destBuf.writeUInt32((UInt32)(size4szPlayName), sizePos4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.chTeamType */
                {
                        ret = destBuf.writeInt8(this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chRaceType */
                {
                        ret = destBuf.writeInt8(this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLegionType */
                {
                        ret = destBuf.writeInt8(this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chHeroLv */
                {
                        ret = destBuf.writeInt8(this.chHeroLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chActorResIDCnt */
                {
                        ret = destBuf.writeInt8(this.chActorResIDCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iBattleScore */
                {
                        ret = destBuf.writeInt32(this.iBattleScore);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chIsMvp */
                {
                        ret = destBuf.writeInt8(this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chRankLevel */
                {
                        ret = destBuf.writeInt8(this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astActorStatistic */
                {
                        if (0 > this.chActorResIDCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (32 < this.chActorResIDCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astActorStatistic_i = 0; astActorStatistic_i < this.chActorResIDCnt; astActorStatistic_i++)
                        {
                                ret = this.astActorStatistic[astActorStatistic_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.stTechStatistic */
                {
                        ret = this.stTechStatistic.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stDmgStatistics */
                {
                        ret = this.stDmgStatistics.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stGoldStatistics */
                {
                        ret = this.stGoldStatistics.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stEquipStatistics */
                {
                        ret = this.stEquipStatistics.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTeam.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTeam.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTeam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chActive */
                {
                        ret = srcBuf.readInt8(ref this.chActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iPlayID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szPlayName */
                {
                        /* get sizeinfo for this.szPlayName */
                        UInt32 size4szPlayName = 0;
                        ret = srcBuf.readUInt32(ref size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szPlayName > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szPlayName > this.szPlayName.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szPlayName)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szPlayName, (int)size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szPlayName[(int)size4szPlayName - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szPlayName = TdrTypeUtil.cstrlen(this.szPlayName) + 1;
                        if (size4szPlayName != realSize4szPlayName)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chHeroLv */
                {
                        ret = srcBuf.readInt8(ref this.chHeroLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chActorResIDCnt */
                {
                        ret = srcBuf.readInt8(ref this.chActorResIDCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iBattleScore */
                {
                        ret = srcBuf.readInt32(ref this.iBattleScore);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chIsMvp */
                {
                        ret = srcBuf.readInt8(ref this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chRankLevel */
                {
                        ret = srcBuf.readInt8(ref this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astActorStatistic */
                {
                        if (0 > this.chActorResIDCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (32 < this.chActorResIDCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astActorStatistic_i = 0; astActorStatistic_i < this.chActorResIDCnt; astActorStatistic_i++)
                        {
                                ret = this.astActorStatistic[astActorStatistic_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.stTechStatistic */
                {
                        ret = this.stTechStatistic.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stDmgStatistics */
                {
                        ret = this.stDmgStatistics.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stGoldStatistics */
                {
                        ret = this.stGoldStatistics.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stEquipStatistics */
                {
                        ret = this.stEquipStatistics.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsTeam.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsTeam.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsTeam.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chActive */
                {
                        ret = srcBuf.readInt8(ref this.chActive);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iPlayID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szPlayName */
                {
                        Int32 size4szPlayName = 64;

                        /* load */
                        ret = srcBuf.readCString(ref this.szPlayName, (int)size4szPlayName);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chHeroLv */
                {
                        ret = srcBuf.readInt8(ref this.chHeroLv);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chActorResIDCnt */
                {
                        ret = srcBuf.readInt8(ref this.chActorResIDCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iBattleScore */
                {
                        ret = srcBuf.readInt32(ref this.iBattleScore);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chIsMvp */
                {
                        ret = srcBuf.readInt8(ref this.chIsMvp);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chRankLevel */
                {
                        ret = srcBuf.readInt8(ref this.chRankLevel);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astActorStatistic */
                {
                        for (Int32 astActorStatistic_i = 0; astActorStatistic_i < 32; astActorStatistic_i++)
                        {
                                ret = this.astActorStatistic[astActorStatistic_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.stTechStatistic */
                {
                        ret = this.stTechStatistic.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stDmgStatistics */
                {
                        ret = this.stDmgStatistics.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stGoldStatistics */
                {
                        ret = this.stGoldStatistics.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stEquipStatistics */
                {
                        ret = this.stEquipStatistics.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chActive */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chActive]", "0x{0:x2}", this.chActive);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iPlayID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayID]", "{0:d}", this.iPlayID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szPlayName */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szPlayName]", this.szPlayName);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chTeamType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTeamType]", "0x{0:x2}", this.chTeamType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chRaceType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chRaceType]", "0x{0:x2}", this.chRaceType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLegionType]", "0x{0:x2}", this.chLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chHeroLv */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chHeroLv]", "0x{0:x2}", this.chHeroLv);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chActorResIDCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chActorResIDCnt]", "0x{0:x2}", this.chActorResIDCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iBattleScore */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBattleScore]", "{0:d}", this.iBattleScore);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chIsMvp */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chIsMvp]", "0x{0:x2}", this.chIsMvp);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chRankLevel */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chRankLevel]", "0x{0:x2}", this.chRankLevel);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astActorStatistic */
                if (0 > this.chActorResIDCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (32 < this.chActorResIDCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                for (Int32 astActorStatistic_i = 0; astActorStatistic_i < this.chActorResIDCnt; astActorStatistic_i++)
                {
                        if (null == this.astActorStatistic[astActorStatistic_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astActorStatistic]", astActorStatistic_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astActorStatistic[astActorStatistic_i] */
                        if (0 > indent)
                        {
                                ret = this.astActorStatistic[astActorStatistic_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astActorStatistic[astActorStatistic_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.stTechStatistic */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTechStatistic]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTechStatistic */
                if (0 > indent)
                {
                        ret = this.stTechStatistic.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTechStatistic.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stDmgStatistics */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stDmgStatistics]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stDmgStatistics */
                if (0 > indent)
                {
                        ret = this.stDmgStatistics.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stDmgStatistics.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stGoldStatistics */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stGoldStatistics]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stGoldStatistics */
                if (0 > indent)
                {
                        ret = this.stGoldStatistics.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stGoldStatistics.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stEquipStatistics */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stEquipStatistics]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stEquipStatistics */
                if (0 > indent)
                {
                        ret = this.stEquipStatistics.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stEquipStatistics.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 道具掉落统计 */
public class CSStatisticsDropItem : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iItemID; // 道具ID
        public sbyte  chDropCnt; // 掉落次数

        /* construct methods */
        public CSStatisticsDropItem()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDropItem.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDropItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDropItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iItemID */
                {
                        ret = destBuf.writeInt32(this.iItemID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chDropCnt */
                {
                        ret = destBuf.writeInt8(this.chDropCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDropItem.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDropItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDropItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iItemID */
                {
                        ret = srcBuf.readInt32(ref this.iItemID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chDropCnt */
                {
                        ret = srcBuf.readInt8(ref this.chDropCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsDropItem.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsDropItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsDropItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iItemID */
                {
                        ret = srcBuf.readInt32(ref this.iItemID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chDropCnt */
                {
                        ret = srcBuf.readInt8(ref this.chDropCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iItemID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iItemID]", "{0:d}", this.iItemID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chDropCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chDropCnt]", "0x{0:x2}", this.chDropCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 怪物组统计信息 */
public class CSStatisticsMonsterGroup : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chJusticeKillCnt; // 正义方击杀次数
        public sbyte  chEvalGroupKillCnt; // 邪恶方击杀次数

        /* construct methods */
        public CSStatisticsMonsterGroup()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMonsterGroup.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMonsterGroup.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMonsterGroup.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chJusticeKillCnt */
                {
                        ret = destBuf.writeInt8(this.chJusticeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chEvalGroupKillCnt */
                {
                        ret = destBuf.writeInt8(this.chEvalGroupKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMonsterGroup.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMonsterGroup.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMonsterGroup.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chJusticeKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chJusticeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chEvalGroupKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chEvalGroupKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMonsterGroup.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMonsterGroup.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMonsterGroup.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chJusticeKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chJusticeKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chEvalGroupKillCnt */
                {
                        ret = srcBuf.readInt8(ref this.chEvalGroupKillCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chJusticeKillCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chJusticeKillCnt]", "0x{0:x2}", this.chJusticeKillCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chEvalGroupKillCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEvalGroupKillCnt]", "0x{0:x2}", this.chEvalGroupKillCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 地图信息统计 */
public class CSStatisticsMap : tsf4g_csharp_interface
{
        /* public members */
        public CSStatisticsMonsterGroup [] astMonsterGroups; // 野怪组击统计
        public CSStatisticsDropItem [] astEquipDropItems; // 道具掉落统计

        /* construct methods */
        public CSStatisticsMap()
        {
                astMonsterGroups = new CSStatisticsMonsterGroup[32];
                for(int astMonsterGroups_i = 0; astMonsterGroups_i < 32; astMonsterGroups_i++)
                {
                        astMonsterGroups[astMonsterGroups_i] = new CSStatisticsMonsterGroup();
                }

                astEquipDropItems = new CSStatisticsDropItem[12];
                for(int astEquipDropItems_i = 0; astEquipDropItems_i < 12; astEquipDropItems_i++)
                {
                        astEquipDropItems[astEquipDropItems_i] = new CSStatisticsDropItem();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMap.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMap.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMap.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.astMonsterGroups */
                {
                        for (Int32 astMonsterGroups_i = 0; astMonsterGroups_i < 32; astMonsterGroups_i++)
                        {
                                ret = this.astMonsterGroups[astMonsterGroups_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.astEquipDropItems */
                {
                        for (Int32 astEquipDropItems_i = 0; astEquipDropItems_i < 12; astEquipDropItems_i++)
                        {
                                ret = this.astEquipDropItems[astEquipDropItems_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMap.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMap.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMap.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.astMonsterGroups */
                {
                        for (Int32 astMonsterGroups_i = 0; astMonsterGroups_i < 32; astMonsterGroups_i++)
                        {
                                ret = this.astMonsterGroups[astMonsterGroups_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.astEquipDropItems */
                {
                        for (Int32 astEquipDropItems_i = 0; astEquipDropItems_i < 12; astEquipDropItems_i++)
                        {
                                ret = this.astEquipDropItems[astEquipDropItems_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsMap.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsMap.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsMap.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.astMonsterGroups */
                {
                        for (Int32 astMonsterGroups_i = 0; astMonsterGroups_i < 32; astMonsterGroups_i++)
                        {
                                ret = this.astMonsterGroups[astMonsterGroups_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.astEquipDropItems */
                {
                        for (Int32 astEquipDropItems_i = 0; astEquipDropItems_i < 12; astEquipDropItems_i++)
                        {
                                ret = this.astEquipDropItems[astEquipDropItems_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.astMonsterGroups */
                for (Int32 astMonsterGroups_i = 0; astMonsterGroups_i < 32; astMonsterGroups_i++)
                {
                        if (null == this.astMonsterGroups[astMonsterGroups_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astMonsterGroups]", astMonsterGroups_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astMonsterGroups[astMonsterGroups_i] */
                        if (0 > indent)
                        {
                                ret = this.astMonsterGroups[astMonsterGroups_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astMonsterGroups[astMonsterGroups_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.astEquipDropItems */
                for (Int32 astEquipDropItems_i = 0; astEquipDropItems_i < 12; astEquipDropItems_i++)
                {
                        if (null == this.astEquipDropItems[astEquipDropItems_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astEquipDropItems]", astEquipDropItems_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astEquipDropItems[astEquipDropItems_i] */
                        if (0 > indent)
                        {
                                ret = this.astEquipDropItems[astEquipDropItems_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astEquipDropItems[astEquipDropItems_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 战场统计信息 */
public class CSStatisticsBattle : tsf4g_csharp_interface
{
        /* public members */
        public UInt64  ullBattleID; // 战场唯一ID
        public Int16  nBattleTime; // 战斗时长（秒） 
        public Int16  nBattleSceneID; // 战场地图ID
        public sbyte  chBattleSceneType; // 战斗场景模式
        public sbyte  chBattleResult; // 战斗结果
        public sbyte  chWinerLegionType; // 赢的阵营
        public Int16  nJustice_score; // 正义阵营积分
        public Int16  nEvil_score; // 邪恶阵营积分
        public CSStatisticsTeam [] astTeamsStatistic; // 队伍列表
        public CSStatisticsMap  stMapStatistic; // 地图信息统计

        /* construct methods */
        public CSStatisticsBattle()
        {
                astTeamsStatistic = new CSStatisticsTeam[8];
                for(int astTeamsStatistic_i = 0; astTeamsStatistic_i < 8; astTeamsStatistic_i++)
                {
                        astTeamsStatistic[astTeamsStatistic_i] = new CSStatisticsTeam();
                }

                stMapStatistic = new CSStatisticsMap();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsBattle.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsBattle.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsBattle.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.ullBattleID */
                {
                        ret = destBuf.writeUInt64(this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nBattleTime */
                {
                        ret = destBuf.writeInt16(this.nBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nBattleSceneID */
                {
                        ret = destBuf.writeInt16(this.nBattleSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBattleSceneType */
                {
                        ret = destBuf.writeInt8(this.chBattleSceneType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chBattleResult */
                {
                        ret = destBuf.writeInt8(this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chWinerLegionType */
                {
                        ret = destBuf.writeInt8(this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nJustice_score */
                {
                        ret = destBuf.writeInt16(this.nJustice_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nEvil_score */
                {
                        ret = destBuf.writeInt16(this.nEvil_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astTeamsStatistic */
                {
                        for (Int32 astTeamsStatistic_i = 0; astTeamsStatistic_i < 8; astTeamsStatistic_i++)
                        {
                                ret = this.astTeamsStatistic[astTeamsStatistic_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.stMapStatistic */
                {
                        ret = this.stMapStatistic.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsBattle.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsBattle.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsBattle.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nBattleTime */
                {
                        ret = srcBuf.readInt16(ref this.nBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nBattleSceneID */
                {
                        ret = srcBuf.readInt16(ref this.nBattleSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBattleSceneType */
                {
                        ret = srcBuf.readInt8(ref this.chBattleSceneType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chBattleResult */
                {
                        ret = srcBuf.readInt8(ref this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chWinerLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nJustice_score */
                {
                        ret = srcBuf.readInt16(ref this.nJustice_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nEvil_score */
                {
                        ret = srcBuf.readInt16(ref this.nEvil_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astTeamsStatistic */
                {
                        for (Int32 astTeamsStatistic_i = 0; astTeamsStatistic_i < 8; astTeamsStatistic_i++)
                        {
                                ret = this.astTeamsStatistic[astTeamsStatistic_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.stMapStatistic */
                {
                        ret = this.stMapStatistic.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSStatisticsBattle.CURRVERSION < cutVer)
                {
                        cutVer = CSStatisticsBattle.CURRVERSION;
                }

                /* check cutversion */
                if (CSStatisticsBattle.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nBattleTime */
                {
                        ret = srcBuf.readInt16(ref this.nBattleTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nBattleSceneID */
                {
                        ret = srcBuf.readInt16(ref this.nBattleSceneID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBattleSceneType */
                {
                        ret = srcBuf.readInt8(ref this.chBattleSceneType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chBattleResult */
                {
                        ret = srcBuf.readInt8(ref this.chBattleResult);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chWinerLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nJustice_score */
                {
                        ret = srcBuf.readInt16(ref this.nJustice_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nEvil_score */
                {
                        ret = srcBuf.readInt16(ref this.nEvil_score);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astTeamsStatistic */
                {
                        for (Int32 astTeamsStatistic_i = 0; astTeamsStatistic_i < 8; astTeamsStatistic_i++)
                        {
                                ret = this.astTeamsStatistic[astTeamsStatistic_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.stMapStatistic */
                {
                        ret = this.stMapStatistic.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.ullBattleID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[ullBattleID]", "{0:d}", this.ullBattleID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nBattleTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nBattleTime]", "{0:d}", this.nBattleTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nBattleSceneID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nBattleSceneID]", "{0:d}", this.nBattleSceneID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBattleSceneType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBattleSceneType]", "0x{0:x2}", this.chBattleSceneType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBattleResult */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBattleResult]", "0x{0:x2}", this.chBattleResult);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chWinerLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chWinerLegionType]", "0x{0:x2}", this.chWinerLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nJustice_score */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nJustice_score]", "{0:d}", this.nJustice_score);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nEvil_score */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nEvil_score]", "{0:d}", this.nEvil_score);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astTeamsStatistic */
                for (Int32 astTeamsStatistic_i = 0; astTeamsStatistic_i < 8; astTeamsStatistic_i++)
                {
                        if (null == this.astTeamsStatistic[astTeamsStatistic_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astTeamsStatistic]", astTeamsStatistic_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astTeamsStatistic[astTeamsStatistic_i] */
                        if (0 > indent)
                        {
                                ret = this.astTeamsStatistic[astTeamsStatistic_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astTeamsStatistic[astTeamsStatistic_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* visualize member: this.stMapStatistic */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stMapStatistic]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stMapStatistic */
                if (0 > indent)
                {
                        ret = this.stMapStatistic.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stMapStatistic.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 登陆请求 */
public class CSBattleLoginReq : tsf4g_csharp_interface
{
        /* public members */
        public byte [] szAccessToken; // 角色访问token,测试用
        public Int32  iPlayerID; // 玩家ID
        public Int32  iRoomID; // 房间ID
        public sbyte  chLoginType; // 重连标志 LoginConnectType
        public byte [] szProtocolMd5; // 协议版本md5

        /* construct methods */
        public CSBattleLoginReq()
        {
                szAccessToken = new byte[256];
                szProtocolMd5 = new byte[64];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginReq.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.szAccessToken */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szAccessToken = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szAccessToken = destBuf.getUsedSize();

                        Int32 realSize4szAccessToken = TdrTypeUtil.cstrlen(this.szAccessToken);

                        if (realSize4szAccessToken >= 256)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szAccessToken, realSize4szAccessToken);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szAccessToken */
                        Int32 size4szAccessToken = destBuf.getUsedSize() - beginPos4szAccessToken;
                        ret = destBuf.writeUInt32((UInt32)(size4szAccessToken), sizePos4szAccessToken);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iRoomID */
                {
                        ret = destBuf.writeInt32(this.iRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLoginType */
                {
                        ret = destBuf.writeInt8(this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szProtocolMd5 */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szProtocolMd5 = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szProtocolMd5 = destBuf.getUsedSize();

                        Int32 realSize4szProtocolMd5 = TdrTypeUtil.cstrlen(this.szProtocolMd5);

                        if (realSize4szProtocolMd5 >= 64)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szProtocolMd5, realSize4szProtocolMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szProtocolMd5 */
                        Int32 size4szProtocolMd5 = destBuf.getUsedSize() - beginPos4szProtocolMd5;
                        ret = destBuf.writeUInt32((UInt32)(size4szProtocolMd5), sizePos4szProtocolMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginReq.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.szAccessToken */
                {
                        /* get sizeinfo for this.szAccessToken */
                        UInt32 size4szAccessToken = 0;
                        ret = srcBuf.readUInt32(ref size4szAccessToken);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szAccessToken > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szAccessToken > this.szAccessToken.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szAccessToken)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szAccessToken, (int)size4szAccessToken);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szAccessToken[(int)size4szAccessToken - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szAccessToken = TdrTypeUtil.cstrlen(this.szAccessToken) + 1;
                        if (size4szAccessToken != realSize4szAccessToken)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLoginType */
                {
                        ret = srcBuf.readInt8(ref this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szProtocolMd5 */
                {
                        /* get sizeinfo for this.szProtocolMd5 */
                        UInt32 size4szProtocolMd5 = 0;
                        ret = srcBuf.readUInt32(ref size4szProtocolMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szProtocolMd5 > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szProtocolMd5 > this.szProtocolMd5.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szProtocolMd5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szProtocolMd5, (int)size4szProtocolMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szProtocolMd5[(int)size4szProtocolMd5 - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szProtocolMd5 = TdrTypeUtil.cstrlen(this.szProtocolMd5) + 1;
                        if (size4szProtocolMd5 != realSize4szProtocolMd5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginReq.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.szAccessToken */
                {
                        Int32 size4szAccessToken = 256;

                        /* load */
                        ret = srcBuf.readCString(ref this.szAccessToken, (int)size4szAccessToken);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLoginType */
                {
                        ret = srcBuf.readInt8(ref this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szProtocolMd5 */
                {
                        Int32 size4szProtocolMd5 = 64;

                        /* load */
                        ret = srcBuf.readCString(ref this.szProtocolMd5, (int)size4szProtocolMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.szAccessToken */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szAccessToken]", this.szAccessToken);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iRoomID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iRoomID]", "{0:d}", this.iRoomID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLoginType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLoginType]", "0x{0:x2}", this.chLoginType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szProtocolMd5 */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szProtocolMd5]", this.szProtocolMd5);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 登陆请求返回 */
public class CSBattleLoginRsp : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iRetCode; // 返回码
        public Int32  iPlayerID; // 玩家ID
        public sbyte  chLoginType; // 重连标志 LoginConnectType
        public BattleCreateParams  stCreateParams; // 战斗创建数据
        public Int32  iFrameSync; // 是否开启帧同步

        /* construct methods */
        public CSBattleLoginRsp()
        {
                stCreateParams = new BattleCreateParams();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iRetCode */
                {
                        ret = destBuf.writeInt32(this.iRetCode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLoginType */
                {
                        ret = destBuf.writeInt8(this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCreateParams */
                {
                        ret = this.stCreateParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrameSync */
                {
                        ret = destBuf.writeInt32(this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iRetCode */
                {
                        ret = srcBuf.readInt32(ref this.iRetCode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLoginType */
                {
                        ret = srcBuf.readInt8(ref this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCreateParams */
                {
                        ret = this.stCreateParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrameSync */
                {
                        ret = srcBuf.readInt32(ref this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleLoginRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleLoginRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleLoginRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iRetCode */
                {
                        ret = srcBuf.readInt32(ref this.iRetCode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLoginType */
                {
                        ret = srcBuf.readInt8(ref this.chLoginType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCreateParams */
                {
                        ret = this.stCreateParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrameSync */
                {
                        ret = srcBuf.readInt32(ref this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iRetCode */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iRetCode]", "{0:d}", this.iRetCode);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLoginType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLoginType]", "0x{0:x2}", this.chLoginType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stCreateParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCreateParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCreateParams */
                if (0 > indent)
                {
                        ret = this.stCreateParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCreateParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.iFrameSync */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameSync]", "{0:d}", this.iFrameSync);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 心跳包 */
public class CSHeartBeatReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iClientTime; // 客户端时间

        /* construct methods */
        public CSHeartBeatReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatReq.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iClientTime */
                {
                        ret = destBuf.writeInt32(this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatReq.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iClientTime */
                {
                        ret = srcBuf.readInt32(ref this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatReq.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iClientTime */
                {
                        ret = srcBuf.readInt32(ref this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iClientTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iClientTime]", "{0:d}", this.iClientTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 心跳回包 */
public class CSHeartBeatRsp : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iClientTime; // 客户端时间

        /* construct methods */
        public CSHeartBeatRsp()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iClientTime */
                {
                        ret = destBuf.writeInt32(this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iClientTime */
                {
                        ret = srcBuf.readInt32(ref this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSHeartBeatRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSHeartBeatRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSHeartBeatRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iClientTime */
                {
                        ret = srcBuf.readInt32(ref this.iClientTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iClientTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iClientTime]", "{0:d}", this.iClientTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSMapLoadProgressReq : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chProgress; // 进度

        /* construct methods */
        public CSMapLoadProgressReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chProgress */
                {
                        ret = destBuf.writeInt8(this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chProgress */
                {
                        ret = srcBuf.readInt8(ref this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chProgress */
                {
                        ret = srcBuf.readInt8(ref this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chProgress */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chProgress]", "0x{0:x2}", this.chProgress);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSMapLoadProgressNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 玩家ID
        public sbyte  chProgress; // 进度

        /* construct methods */
        public CSMapLoadProgressNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chProgress */
                {
                        ret = destBuf.writeInt8(this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chProgress */
                {
                        ret = srcBuf.readInt8(ref this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMapLoadProgressNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMapLoadProgressNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMapLoadProgressNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chProgress */
                {
                        ret = srcBuf.readInt8(ref this.chProgress);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chProgress */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chProgress]", "0x{0:x2}", this.chProgress);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 加载地图 */
public class CSFinishLoadMapReq : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSFinishLoadMapReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 完成加载地图 */
public class CSFinishLoadMapRsp : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSFinishLoadMapRsp()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFinishLoadMapRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSFinishLoadMapRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFinishLoadMapRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 开始游戏通知 */
public class CSGameStartNotify : tsf4g_csharp_interface
{
        /* public members */
        public UInt64  ullBattleID; // 战场唯一ID
        public Int32  iFrameSync; // 是否开启帧同步

        /* construct methods */
        public CSGameStartNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameStartNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameStartNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameStartNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.ullBattleID */
                {
                        ret = destBuf.writeUInt64(this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrameSync */
                {
                        ret = destBuf.writeInt32(this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameStartNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameStartNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameStartNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrameSync */
                {
                        ret = srcBuf.readInt32(ref this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameStartNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameStartNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameStartNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.ullBattleID */
                {
                        ret = srcBuf.readUInt64(ref this.ullBattleID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrameSync */
                {
                        ret = srcBuf.readInt32(ref this.iFrameSync);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.ullBattleID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[ullBattleID]", "{0:d}", this.ullBattleID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFrameSync */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameSync]", "{0:d}", this.iFrameSync);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 重连开始游戏请求 */
public class CSGameReStartReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iLastFrame; // 客户端最后处理帧号

        /* construct methods */
        public CSGameReStartReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iLastFrame */
                {
                        ret = destBuf.writeInt32(this.iLastFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iLastFrame */
                {
                        ret = srcBuf.readInt32(ref this.iLastFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iLastFrame */
                {
                        ret = srcBuf.readInt32(ref this.iLastFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iLastFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iLastFrame]", "{0:d}", this.iLastFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 重连开始游戏回包 */
public class CSGameReStartRsp : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chState; // 服务器重连状态
        public Int32  iStartFrame; // 开始帧号
        public Int32  iServersFrame; // 服务器最新帧号
        public Int32  iFrameCnt; // 帧数目
        public Int32  iFrameDataBuffSize; // buff大小
        public sbyte [] szFrameDataBuff; // 帧BUFF

        /* construct methods */
        public CSGameReStartRsp()
        {
                szFrameDataBuff = new sbyte[8096];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chState */
                {
                        ret = destBuf.writeInt8(this.chState);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iStartFrame */
                {
                        ret = destBuf.writeInt32(this.iStartFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iServersFrame */
                {
                        ret = destBuf.writeInt32(this.iServersFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrameCnt */
                {
                        ret = destBuf.writeInt32(this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrameDataBuffSize */
                {
                        ret = destBuf.writeInt32(this.iFrameDataBuffSize);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szFrameDataBuff */
                {
                        if (0 > this.iFrameDataBuffSize)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (8096 < this.iFrameDataBuffSize)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 szFrameDataBuff_i = 0; szFrameDataBuff_i < this.iFrameDataBuffSize; szFrameDataBuff_i++)
                        {
                                ret = destBuf.writeInt8(this.szFrameDataBuff[szFrameDataBuff_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chState */
                {
                        ret = srcBuf.readInt8(ref this.chState);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iStartFrame */
                {
                        ret = srcBuf.readInt32(ref this.iStartFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iServersFrame */
                {
                        ret = srcBuf.readInt32(ref this.iServersFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrameDataBuffSize */
                {
                        ret = srcBuf.readInt32(ref this.iFrameDataBuffSize);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szFrameDataBuff */
                {
                        if (0 > this.iFrameDataBuffSize)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (8096 < this.iFrameDataBuffSize)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 szFrameDataBuff_i = 0; szFrameDataBuff_i < this.iFrameDataBuffSize; szFrameDataBuff_i++)
                        {
                                ret = srcBuf.readInt8(ref this.szFrameDataBuff[szFrameDataBuff_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameReStartRsp.CURRVERSION < cutVer)
                {
                        cutVer = CSGameReStartRsp.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameReStartRsp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chState */
                {
                        ret = srcBuf.readInt8(ref this.chState);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iStartFrame */
                {
                        ret = srcBuf.readInt32(ref this.iStartFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iServersFrame */
                {
                        ret = srcBuf.readInt32(ref this.iServersFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrameDataBuffSize */
                {
                        ret = srcBuf.readInt32(ref this.iFrameDataBuffSize);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szFrameDataBuff */
                {
                        for (Int32 szFrameDataBuff_i = 0; szFrameDataBuff_i < 8096; szFrameDataBuff_i++)
                        {
                                ret = srcBuf.readInt8(ref this.szFrameDataBuff[szFrameDataBuff_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chState */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chState]", "0x{0:x2}", this.chState);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iStartFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iStartFrame]", "{0:d}", this.iStartFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iServersFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iServersFrame]", "{0:d}", this.iServersFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFrameCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameCnt]", "{0:d}", this.iFrameCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFrameDataBuffSize */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameDataBuffSize]", "{0:d}", this.iFrameDataBuffSize);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szFrameDataBuff */
                if (0 > this.iFrameDataBuffSize)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (8096 < this.iFrameDataBuffSize)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                ret = TdrBufUtil.printArray(ref destBuf, indent, separator, "[szFrameDataBuff]", this.iFrameDataBuffSize);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }
                for (Int32 szFrameDataBuff_i = 0; szFrameDataBuff_i < this.iFrameDataBuffSize; szFrameDataBuff_i++)
                {
                        ret = destBuf.sprintf("0x{0:x2}", this.szFrameDataBuff[szFrameDataBuff_i]);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                ret = destBuf.sprintf("{0}",separator);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 结束比赛上报 */
public class CSGameEndReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrame; // 帧号
        public CSStatisticsBattle  stStatisticsBattle; // 游戏统计数据
        public Int32  iDumpLength; // 长度
        public byte [] szDumpInfo; // dump数据

        /* construct methods */
        public CSGameEndReq()
        {
                stStatisticsBattle = new CSStatisticsBattle();
                szDumpInfo = new byte[17];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iDumpLength */
                {
                        ret = destBuf.writeInt32(this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szDumpInfo */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szDumpInfo = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szDumpInfo = destBuf.getUsedSize();

                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo);

                        if (realSize4szDumpInfo >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szDumpInfo, realSize4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szDumpInfo */
                        Int32 size4szDumpInfo = destBuf.getUsedSize() - beginPos4szDumpInfo;
                        ret = destBuf.writeUInt32((UInt32)(size4szDumpInfo), sizePos4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iDumpLength */
                {
                        ret = srcBuf.readInt32(ref this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szDumpInfo */
                {
                        /* get sizeinfo for this.szDumpInfo */
                        UInt32 size4szDumpInfo = 0;
                        ret = srcBuf.readUInt32(ref size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szDumpInfo > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szDumpInfo > this.szDumpInfo.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szDumpInfo[(int)size4szDumpInfo - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo) + 1;
                        if (size4szDumpInfo != realSize4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iDumpLength */
                {
                        ret = srcBuf.readInt32(ref this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szDumpInfo */
                {
                        Int32 size4szDumpInfo = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stStatisticsBattle */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stStatisticsBattle]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stStatisticsBattle */
                if (0 > indent)
                {
                        ret = this.stStatisticsBattle.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stStatisticsBattle.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.iDumpLength */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iDumpLength]", "{0:d}", this.iDumpLength);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szDumpInfo */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szDumpInfo]", this.szDumpInfo);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 结束比赛 */
public class CSGameEndNotify : tsf4g_csharp_interface
{
        /* public members */
        public byte  bWinner; // 赢方阵营
        public Int32  iEndReason; // 结束原因

        /* construct methods */
        public CSGameEndNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bWinner */
                {
                        ret = destBuf.writeUInt8(this.bWinner);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iEndReason */
                {
                        ret = destBuf.writeInt32(this.iEndReason);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bWinner */
                {
                        ret = srcBuf.readUInt8(ref this.bWinner);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iEndReason */
                {
                        ret = srcBuf.readInt32(ref this.iEndReason);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bWinner */
                {
                        ret = srcBuf.readUInt8(ref this.bWinner);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iEndReason */
                {
                        ret = srcBuf.readInt32(ref this.iEndReason);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bWinner */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bWinner]", "0x{0:x2}", this.bWinner);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iEndReason */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iEndReason]", "{0:d}", this.iEndReason);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* gm指令 */
public class CSGmCommand : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iCmd_length; // 长度
        public byte [] szGm_command; // gm指令

        /* construct methods */
        public CSGmCommand()
        {
                szGm_command = new byte[256];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGmCommand.CURRVERSION < cutVer)
                {
                        cutVer = CSGmCommand.CURRVERSION;
                }

                /* check cutversion */
                if (CSGmCommand.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iCmd_length */
                {
                        ret = destBuf.writeInt32(this.iCmd_length);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szGm_command */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szGm_command = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szGm_command = destBuf.getUsedSize();

                        Int32 realSize4szGm_command = TdrTypeUtil.cstrlen(this.szGm_command);

                        if (realSize4szGm_command >= 256)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szGm_command, realSize4szGm_command);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szGm_command */
                        Int32 size4szGm_command = destBuf.getUsedSize() - beginPos4szGm_command;
                        ret = destBuf.writeUInt32((UInt32)(size4szGm_command), sizePos4szGm_command);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGmCommand.CURRVERSION < cutVer)
                {
                        cutVer = CSGmCommand.CURRVERSION;
                }

                /* check cutversion */
                if (CSGmCommand.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iCmd_length */
                {
                        ret = srcBuf.readInt32(ref this.iCmd_length);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szGm_command */
                {
                        /* get sizeinfo for this.szGm_command */
                        UInt32 size4szGm_command = 0;
                        ret = srcBuf.readUInt32(ref size4szGm_command);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szGm_command > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szGm_command > this.szGm_command.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szGm_command)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szGm_command, (int)size4szGm_command);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szGm_command[(int)size4szGm_command - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szGm_command = TdrTypeUtil.cstrlen(this.szGm_command) + 1;
                        if (size4szGm_command != realSize4szGm_command)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSGmCommand.CURRVERSION < cutVer)
                {
                        cutVer = CSGmCommand.CURRVERSION;
                }

                /* check cutversion */
                if (CSGmCommand.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iCmd_length */
                {
                        ret = srcBuf.readInt32(ref this.iCmd_length);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szGm_command */
                {
                        Int32 size4szGm_command = 256;

                        /* load */
                        ret = srcBuf.readCString(ref this.szGm_command, (int)size4szGm_command);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iCmd_length */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iCmd_length]", "{0:d}", this.iCmd_length);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szGm_command */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szGm_command]", this.szGm_command);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dumpInfo */
public class CSDumpInfo : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrame; // 帧号
        public Int32  iProtoLength; // 长度
        public byte [] szProtoMD5; // 协议数据MD5
        public Int32  iLength; // 长度
        public byte [] szDumpInfo; // dump数据

        /* construct methods */
        public CSDumpInfo()
        {
                szProtoMD5 = new byte[17];
                szDumpInfo = new byte[17];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iProtoLength */
                {
                        ret = destBuf.writeInt32(this.iProtoLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szProtoMD5 */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szProtoMD5 = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szProtoMD5 = destBuf.getUsedSize();

                        Int32 realSize4szProtoMD5 = TdrTypeUtil.cstrlen(this.szProtoMD5);

                        if (realSize4szProtoMD5 >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szProtoMD5, realSize4szProtoMD5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szProtoMD5 */
                        Int32 size4szProtoMD5 = destBuf.getUsedSize() - beginPos4szProtoMD5;
                        ret = destBuf.writeUInt32((UInt32)(size4szProtoMD5), sizePos4szProtoMD5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.iLength */
                {
                        ret = destBuf.writeInt32(this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szDumpInfo */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szDumpInfo = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szDumpInfo = destBuf.getUsedSize();

                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo);

                        if (realSize4szDumpInfo >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szDumpInfo, realSize4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szDumpInfo */
                        Int32 size4szDumpInfo = destBuf.getUsedSize() - beginPos4szDumpInfo;
                        ret = destBuf.writeUInt32((UInt32)(size4szDumpInfo), sizePos4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iProtoLength */
                {
                        ret = srcBuf.readInt32(ref this.iProtoLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szProtoMD5 */
                {
                        /* get sizeinfo for this.szProtoMD5 */
                        UInt32 size4szProtoMD5 = 0;
                        ret = srcBuf.readUInt32(ref size4szProtoMD5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szProtoMD5 > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szProtoMD5 > this.szProtoMD5.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szProtoMD5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szProtoMD5, (int)size4szProtoMD5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szProtoMD5[(int)size4szProtoMD5 - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szProtoMD5 = TdrTypeUtil.cstrlen(this.szProtoMD5) + 1;
                        if (size4szProtoMD5 != realSize4szProtoMD5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.iLength */
                {
                        ret = srcBuf.readInt32(ref this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szDumpInfo */
                {
                        /* get sizeinfo for this.szDumpInfo */
                        UInt32 size4szDumpInfo = 0;
                        ret = srcBuf.readUInt32(ref size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szDumpInfo > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szDumpInfo > this.szDumpInfo.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szDumpInfo[(int)size4szDumpInfo - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo) + 1;
                        if (size4szDumpInfo != realSize4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iProtoLength */
                {
                        ret = srcBuf.readInt32(ref this.iProtoLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szProtoMD5 */
                {
                        Int32 size4szProtoMD5 = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szProtoMD5, (int)size4szProtoMD5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.iLength */
                {
                        ret = srcBuf.readInt32(ref this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szDumpInfo */
                {
                        Int32 size4szDumpInfo = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iProtoLength */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iProtoLength]", "{0:d}", this.iProtoLength);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szProtoMD5 */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szProtoMD5]", this.szProtoMD5);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iLength */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iLength]", "{0:d}", this.iLength);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szDumpInfo */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szDumpInfo]", this.szDumpInfo);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dumpInfo */
public class CSDumpInfoRet : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrame; // 帧号

        /* construct methods */
        public CSDumpInfoRet()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfoRet.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfoRet.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfoRet.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfoRet.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfoRet.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfoRet.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpInfoRet.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpInfoRet.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpInfoRet.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dump战斗单位Buff */
public class CSDumpBattleActorBuff : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iBuffID; // 帧号
        public Int32  iContinueTime; // 持续时间
        public Int32  iStepTime; // 当前进行的时间

        /* construct methods */
        public CSDumpBattleActorBuff()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorBuff.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorBuff.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorBuff.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iBuffID */
                {
                        ret = destBuf.writeInt32(this.iBuffID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iContinueTime */
                {
                        ret = destBuf.writeInt32(this.iContinueTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iStepTime */
                {
                        ret = destBuf.writeInt32(this.iStepTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorBuff.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorBuff.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorBuff.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iBuffID */
                {
                        ret = srcBuf.readInt32(ref this.iBuffID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iContinueTime */
                {
                        ret = srcBuf.readInt32(ref this.iContinueTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iStepTime */
                {
                        ret = srcBuf.readInt32(ref this.iStepTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorBuff.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorBuff.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorBuff.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iBuffID */
                {
                        ret = srcBuf.readInt32(ref this.iBuffID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iContinueTime */
                {
                        ret = srcBuf.readInt32(ref this.iContinueTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iStepTime */
                {
                        ret = srcBuf.readInt32(ref this.iStepTime);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iBuffID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBuffID]", "{0:d}", this.iBuffID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iContinueTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iContinueTime]", "{0:d}", this.iContinueTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iStepTime */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iStepTime]", "{0:d}", this.iStepTime);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dump战斗单位信息 */
public class CSDumpBattleActorInfo : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iObjID; // 帧号
        public Int32  iResID; // 帧号
        public CSPoint  stTargetPos; // 位置
        public CSPoint  stTargetDir; // 朝向
        public sbyte  chAttrCnt; // 属性个数
        public Int32 [] AttrVal; // 属性信息
        public sbyte  chBuffCnt; // Buff个数
        public CSDumpBattleActorBuff [] astBuffVal; // BUFF信息

        /* construct methods */
        public CSDumpBattleActorInfo()
        {
                stTargetPos = new CSPoint();
                stTargetDir = new CSPoint();
                AttrVal = new Int32[60];
                astBuffVal = new CSDumpBattleActorBuff[16];
                for(int astBuffVal_i = 0; astBuffVal_i < 16; astBuffVal_i++)
                {
                        astBuffVal[astBuffVal_i] = new CSDumpBattleActorBuff();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iObjID */
                {
                        ret = destBuf.writeInt32(this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iResID */
                {
                        ret = destBuf.writeInt32(this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stTargetDir */
                {
                        ret = this.stTargetDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chAttrCnt */
                {
                        ret = destBuf.writeInt8(this.chAttrCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.AttrVal */
                {
                        if (0 > this.chAttrCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (60 < this.chAttrCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 AttrVal_i = 0; AttrVal_i < this.chAttrCnt; AttrVal_i++)
                        {
                                ret = destBuf.writeInt32(this.AttrVal[AttrVal_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                /* pack member: this.chBuffCnt */
                {
                        ret = destBuf.writeInt8(this.chBuffCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astBuffVal */
                {
                        if (0 > this.chBuffCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (16 < this.chBuffCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astBuffVal_i = 0; astBuffVal_i < this.chBuffCnt; astBuffVal_i++)
                        {
                                ret = this.astBuffVal[astBuffVal_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iObjID */
                {
                        ret = srcBuf.readInt32(ref this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stTargetDir */
                {
                        ret = this.stTargetDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chAttrCnt */
                {
                        ret = srcBuf.readInt8(ref this.chAttrCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.AttrVal */
                {
                        if (0 > this.chAttrCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (60 < this.chAttrCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 AttrVal_i = 0; AttrVal_i < this.chAttrCnt; AttrVal_i++)
                        {
                                ret = srcBuf.readInt32(ref this.AttrVal[AttrVal_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* unpack member: this.chBuffCnt */
                {
                        ret = srcBuf.readInt8(ref this.chBuffCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astBuffVal */
                {
                        if (0 > this.chBuffCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (16 < this.chBuffCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astBuffVal_i = 0; astBuffVal_i < this.chBuffCnt; astBuffVal_i++)
                        {
                                ret = this.astBuffVal[astBuffVal_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleActorInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleActorInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleActorInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iObjID */
                {
                        ret = srcBuf.readInt32(ref this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stTargetPos */
                {
                        ret = this.stTargetPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stTargetDir */
                {
                        ret = this.stTargetDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chAttrCnt */
                {
                        ret = srcBuf.readInt8(ref this.chAttrCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.AttrVal */
                {
                        for (Int32 AttrVal_i = 0; AttrVal_i < 60; AttrVal_i++)
                        {
                                ret = srcBuf.readInt32(ref this.AttrVal[AttrVal_i]);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                /* load member: this.chBuffCnt */
                {
                        ret = srcBuf.readInt8(ref this.chBuffCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astBuffVal */
                {
                        for (Int32 astBuffVal_i = 0; astBuffVal_i < 16; astBuffVal_i++)
                        {
                                ret = this.astBuffVal[astBuffVal_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iObjID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iObjID]", "{0:d}", this.iObjID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iResID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iResID]", "{0:d}", this.iResID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stTargetPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetPos */
                if (0 > indent)
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stTargetDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetDir */
                if (0 > indent)
                {
                        ret = this.stTargetDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.chAttrCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chAttrCnt]", "0x{0:x2}", this.chAttrCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.AttrVal */
                if (0 > this.chAttrCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (60 < this.chAttrCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                ret = TdrBufUtil.printArray(ref destBuf, indent, separator, "[AttrVal]", this.chAttrCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }
                for (Int32 AttrVal_i = 0; AttrVal_i < this.chAttrCnt; AttrVal_i++)
                {
                        ret = destBuf.sprintf("{0:d}", this.AttrVal[AttrVal_i]);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                ret = destBuf.sprintf("{0}",separator);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chBuffCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chBuffCnt]", "0x{0:x2}", this.chBuffCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astBuffVal */
                if (0 > this.chBuffCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (16 < this.chBuffCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                for (Int32 astBuffVal_i = 0; astBuffVal_i < this.chBuffCnt; astBuffVal_i++)
                {
                        if (null == this.astBuffVal[astBuffVal_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astBuffVal]", astBuffVal_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astBuffVal[astBuffVal_i] */
                        if (0 > indent)
                        {
                                ret = this.astBuffVal[astBuffVal_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astBuffVal[astBuffVal_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dump队伍信息 */
public class CSDumpTeamInfo : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chTeamType; // 队伍类型
        public sbyte  chRaceType; // 种族类型
        public sbyte  chLegionType; // 阵营类型
        public Int32  iGold; // 金钱
        public sbyte  chFood; // 人口
        public Int32  iActorCnt; // 单位个数
        public CSDumpBattleActorInfo [] astActorInfo; // 单位信息

        /* construct methods */
        public CSDumpTeamInfo()
        {
                astActorInfo = new CSDumpBattleActorInfo[256];
                for(int astActorInfo_i = 0; astActorInfo_i < 256; astActorInfo_i++)
                {
                        astActorInfo[astActorInfo_i] = new CSDumpBattleActorInfo();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpTeamInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpTeamInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpTeamInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chTeamType */
                {
                        ret = destBuf.writeInt8(this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chRaceType */
                {
                        ret = destBuf.writeInt8(this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chLegionType */
                {
                        ret = destBuf.writeInt8(this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iGold */
                {
                        ret = destBuf.writeInt32(this.iGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chFood */
                {
                        ret = destBuf.writeInt8(this.chFood);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iActorCnt */
                {
                        ret = destBuf.writeInt32(this.iActorCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astActorInfo */
                {
                        if (0 > this.iActorCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (256 < this.iActorCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astActorInfo_i = 0; astActorInfo_i < this.iActorCnt; astActorInfo_i++)
                        {
                                ret = this.astActorInfo[astActorInfo_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpTeamInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpTeamInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpTeamInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iGold */
                {
                        ret = srcBuf.readInt32(ref this.iGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chFood */
                {
                        ret = srcBuf.readInt8(ref this.chFood);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iActorCnt */
                {
                        ret = srcBuf.readInt32(ref this.iActorCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astActorInfo */
                {
                        if (0 > this.iActorCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (256 < this.iActorCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astActorInfo_i = 0; astActorInfo_i < this.iActorCnt; astActorInfo_i++)
                        {
                                ret = this.astActorInfo[astActorInfo_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpTeamInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpTeamInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpTeamInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chRaceType */
                {
                        ret = srcBuf.readInt8(ref this.chRaceType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iGold */
                {
                        ret = srcBuf.readInt32(ref this.iGold);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chFood */
                {
                        ret = srcBuf.readInt8(ref this.chFood);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iActorCnt */
                {
                        ret = srcBuf.readInt32(ref this.iActorCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astActorInfo */
                {
                        for (Int32 astActorInfo_i = 0; astActorInfo_i < 256; astActorInfo_i++)
                        {
                                ret = this.astActorInfo[astActorInfo_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chTeamType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTeamType]", "0x{0:x2}", this.chTeamType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chRaceType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chRaceType]", "0x{0:x2}", this.chRaceType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLegionType]", "0x{0:x2}", this.chLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iGold */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iGold]", "{0:d}", this.iGold);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chFood */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chFood]", "0x{0:x2}", this.chFood);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iActorCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iActorCnt]", "{0:d}", this.iActorCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astActorInfo */
                if (0 > this.iActorCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (256 < this.iActorCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                for (Int32 astActorInfo_i = 0; astActorInfo_i < this.iActorCnt; astActorInfo_i++)
                {
                        if (null == this.astActorInfo[astActorInfo_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astActorInfo]", astActorInfo_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astActorInfo[astActorInfo_i] */
                        if (0 > indent)
                        {
                                ret = this.astActorInfo[astActorInfo_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astActorInfo[astActorInfo_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* dump 1帧战场信息 */
public class CSDumpBattleFrameInfo : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrameCnt; // 帧号
        public sbyte  chTeamCnt; // 队伍个数
        public CSDumpTeamInfo [] astTeamInfo; // 队伍信息

        /* construct methods */
        public CSDumpBattleFrameInfo()
        {
                astTeamInfo = new CSDumpTeamInfo[8];
                for(int astTeamInfo_i = 0; astTeamInfo_i < 8; astTeamInfo_i++)
                {
                        astTeamInfo[astTeamInfo_i] = new CSDumpTeamInfo();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleFrameInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleFrameInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleFrameInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrameCnt */
                {
                        ret = destBuf.writeInt32(this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chTeamCnt */
                {
                        ret = destBuf.writeInt8(this.chTeamCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astTeamInfo */
                {
                        if (0 > this.chTeamCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (8 < this.chTeamCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astTeamInfo_i = 0; astTeamInfo_i < this.chTeamCnt; astTeamInfo_i++)
                        {
                                ret = this.astTeamInfo[astTeamInfo_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleFrameInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleFrameInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleFrameInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chTeamCnt */
                {
                        ret = srcBuf.readInt8(ref this.chTeamCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astTeamInfo */
                {
                        if (0 > this.chTeamCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (8 < this.chTeamCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astTeamInfo_i = 0; astTeamInfo_i < this.chTeamCnt; astTeamInfo_i++)
                        {
                                ret = this.astTeamInfo[astTeamInfo_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSDumpBattleFrameInfo.CURRVERSION < cutVer)
                {
                        cutVer = CSDumpBattleFrameInfo.CURRVERSION;
                }

                /* check cutversion */
                if (CSDumpBattleFrameInfo.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrameCnt */
                {
                        ret = srcBuf.readInt32(ref this.iFrameCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chTeamCnt */
                {
                        ret = srcBuf.readInt8(ref this.chTeamCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astTeamInfo */
                {
                        for (Int32 astTeamInfo_i = 0; astTeamInfo_i < 8; astTeamInfo_i++)
                        {
                                ret = this.astTeamInfo[astTeamInfo_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrameCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrameCnt]", "{0:d}", this.iFrameCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chTeamCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTeamCnt]", "0x{0:x2}", this.chTeamCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astTeamInfo */
                if (0 > this.chTeamCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (8 < this.chTeamCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                for (Int32 astTeamInfo_i = 0; astTeamInfo_i < this.chTeamCnt; astTeamInfo_i++)
                {
                        if (null == this.astTeamInfo[astTeamInfo_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astTeamInfo]", astTeamInfo_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astTeamInfo[astTeamInfo_i] */
                        if (0 > indent)
                        {
                                ret = this.astTeamInfo[astTeamInfo_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astTeamInfo[astTeamInfo_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 释放技能请求 */
public class CSFrameActorCastSkill : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iSkillID; // 技能ID
        public CSPoint  stCaseDir; // 释放方向
        public Int32  iTargetObjID; // 目标ObjID
        public CSPoint  stHitPos; // 点击目标坐标

        /* construct methods */
        public CSFrameActorCastSkill()
        {
                stCaseDir = new CSPoint();
                stHitPos = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorCastSkill.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorCastSkill.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorCastSkill.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iSkillID */
                {
                        ret = destBuf.writeInt32(this.iSkillID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCaseDir */
                {
                        ret = this.stCaseDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTargetObjID */
                {
                        ret = destBuf.writeInt32(this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stHitPos */
                {
                        ret = this.stHitPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorCastSkill.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorCastSkill.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorCastSkill.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iSkillID */
                {
                        ret = srcBuf.readInt32(ref this.iSkillID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCaseDir */
                {
                        ret = this.stCaseDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTargetObjID */
                {
                        ret = srcBuf.readInt32(ref this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stHitPos */
                {
                        ret = this.stHitPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorCastSkill.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorCastSkill.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorCastSkill.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iSkillID */
                {
                        ret = srcBuf.readInt32(ref this.iSkillID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCaseDir */
                {
                        ret = this.stCaseDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTargetObjID */
                {
                        ret = srcBuf.readInt32(ref this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stHitPos */
                {
                        ret = this.stHitPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iSkillID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSkillID]", "{0:d}", this.iSkillID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stCaseDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCaseDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCaseDir */
                if (0 > indent)
                {
                        ret = this.stCaseDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCaseDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.iTargetObjID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTargetObjID]", "{0:d}", this.iTargetObjID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stHitPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stHitPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stHitPos */
                if (0 > indent)
                {
                        ret = this.stHitPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stHitPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 技能事件请求 */
public class CSFrameActorSkillEvent : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iSkillGroupID; // 技能组id
        public sbyte  chEventType; // 事件类型
        public Int32  iEventParam1; // 事件参数1
        public CSPoint  stParam_Pos; // 位置参数
        public CSPoint  stParam_Dir; // 方向参数

        /* construct methods */
        public CSFrameActorSkillEvent()
        {
                stParam_Pos = new CSPoint();
                stParam_Dir = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorSkillEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorSkillEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorSkillEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iSkillGroupID */
                {
                        ret = destBuf.writeInt32(this.iSkillGroupID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chEventType */
                {
                        ret = destBuf.writeInt8(this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iEventParam1 */
                {
                        ret = destBuf.writeInt32(this.iEventParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stParam_Pos */
                {
                        ret = this.stParam_Pos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stParam_Dir */
                {
                        ret = this.stParam_Dir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorSkillEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorSkillEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorSkillEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iSkillGroupID */
                {
                        ret = srcBuf.readInt32(ref this.iSkillGroupID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iEventParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iEventParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stParam_Pos */
                {
                        ret = this.stParam_Pos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stParam_Dir */
                {
                        ret = this.stParam_Dir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorSkillEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorSkillEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorSkillEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iSkillGroupID */
                {
                        ret = srcBuf.readInt32(ref this.iSkillGroupID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iEventParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iEventParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stParam_Pos */
                {
                        ret = this.stParam_Pos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stParam_Dir */
                {
                        ret = this.stParam_Dir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iSkillGroupID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iSkillGroupID]", "{0:d}", this.iSkillGroupID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chEventType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEventType]", "0x{0:x2}", this.chEventType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iEventParam1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iEventParam1]", "{0:d}", this.iEventParam1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stParam_Pos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stParam_Pos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stParam_Pos */
                if (0 > indent)
                {
                        ret = this.stParam_Pos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stParam_Pos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stParam_Dir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stParam_Dir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stParam_Dir */
                if (0 > indent)
                {
                        ret = this.stParam_Dir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stParam_Dir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 技能加点请求 */
public class CSFrameActorAddSkillPoint : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chSkillBarType; // 技能栏类型

        /* construct methods */
        public CSFrameActorAddSkillPoint()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorAddSkillPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorAddSkillPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorAddSkillPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chSkillBarType */
                {
                        ret = destBuf.writeInt8(this.chSkillBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorAddSkillPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorAddSkillPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorAddSkillPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chSkillBarType */
                {
                        ret = srcBuf.readInt8(ref this.chSkillBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorAddSkillPoint.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorAddSkillPoint.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorAddSkillPoint.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chSkillBarType */
                {
                        ret = srcBuf.readInt8(ref this.chSkillBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chSkillBarType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chSkillBarType]", "0x{0:x2}", this.chSkillBarType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 装备操作请求 */
public class CSFrameActorEquipOp : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iObjectId; // 装备的ObjectID
        public sbyte  chOpType; // 操作类型
        public sbyte  chEquipBarType; // 装备栏类型

        /* construct methods */
        public CSFrameActorEquipOp()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorEquipOp.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorEquipOp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorEquipOp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iObjectId */
                {
                        ret = destBuf.writeInt32(this.iObjectId);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chOpType */
                {
                        ret = destBuf.writeInt8(this.chOpType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chEquipBarType */
                {
                        ret = destBuf.writeInt8(this.chEquipBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorEquipOp.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorEquipOp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorEquipOp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iObjectId */
                {
                        ret = srcBuf.readInt32(ref this.iObjectId);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chOpType */
                {
                        ret = srcBuf.readInt8(ref this.chOpType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chEquipBarType */
                {
                        ret = srcBuf.readInt8(ref this.chEquipBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameActorEquipOp.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameActorEquipOp.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameActorEquipOp.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iObjectId */
                {
                        ret = srcBuf.readInt32(ref this.iObjectId);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chOpType */
                {
                        ret = srcBuf.readInt8(ref this.chOpType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chEquipBarType */
                {
                        ret = srcBuf.readInt8(ref this.chEquipBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iObjectId */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iObjectId]", "{0:d}", this.iObjectId);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chOpType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chOpType]", "0x{0:x2}", this.chOpType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chEquipBarType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEquipBarType]", "0x{0:x2}", this.chEquipBarType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 请求移动请求 */
public class CSFrameBattleStartMove : tsf4g_csharp_interface
{
        /* public members */
        public CSPoint  stTargetPos; // 目标位置
        public CSPoint  stCurPos; // 位置
        public CSPoint  stCurDir; // 朝向
        public Int16  nMoveDir_X; // 移动方向
        public Int16  nMoveDir_Z; // 移动方向
        public sbyte  chOpMode; // 移动模式
        public sbyte  chWalkFlag; // 走路状态

        /* construct methods */
        public CSFrameBattleStartMove()
        {
                stTargetPos = new CSPoint();
                stCurPos = new CSPoint();
                stCurDir = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStartMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStartMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStartMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurPos */
                {
                        ret = this.stCurPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurDir */
                {
                        ret = this.stCurDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nMoveDir_X */
                {
                        ret = destBuf.writeInt16(this.nMoveDir_X);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.nMoveDir_Z */
                {
                        ret = destBuf.writeInt16(this.nMoveDir_Z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chOpMode */
                {
                        ret = destBuf.writeInt8(this.chOpMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chWalkFlag */
                {
                        ret = destBuf.writeInt8(this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStartMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStartMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStartMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurPos */
                {
                        ret = this.stCurPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurDir */
                {
                        ret = this.stCurDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nMoveDir_X */
                {
                        ret = srcBuf.readInt16(ref this.nMoveDir_X);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.nMoveDir_Z */
                {
                        ret = srcBuf.readInt16(ref this.nMoveDir_Z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chOpMode */
                {
                        ret = srcBuf.readInt8(ref this.chOpMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chWalkFlag */
                {
                        ret = srcBuf.readInt8(ref this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStartMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStartMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStartMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.stTargetPos */
                {
                        ret = this.stTargetPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurPos */
                {
                        ret = this.stCurPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurDir */
                {
                        ret = this.stCurDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nMoveDir_X */
                {
                        ret = srcBuf.readInt16(ref this.nMoveDir_X);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.nMoveDir_Z */
                {
                        ret = srcBuf.readInt16(ref this.nMoveDir_Z);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chOpMode */
                {
                        ret = srcBuf.readInt8(ref this.chOpMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chWalkFlag */
                {
                        ret = srcBuf.readInt8(ref this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.stTargetPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetPos */
                if (0 > indent)
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurPos */
                if (0 > indent)
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurDir */
                if (0 > indent)
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.nMoveDir_X */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nMoveDir_X]", "{0:d}", this.nMoveDir_X);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nMoveDir_Z */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nMoveDir_Z]", "{0:d}", this.nMoveDir_Z);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chOpMode */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chOpMode]", "0x{0:x2}", this.chOpMode);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chWalkFlag */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chWalkFlag]", "0x{0:x2}", this.chWalkFlag);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 停止移动请求 */
public class CSFrameBattleStopMove : tsf4g_csharp_interface
{
        /* public members */
        public CSPoint  stCurPos; // 位置
        public CSPoint  stCurDir; // 朝向

        /* construct methods */
        public CSFrameBattleStopMove()
        {
                stCurPos = new CSPoint();
                stCurDir = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStopMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStopMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStopMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.stCurPos */
                {
                        ret = this.stCurPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurDir */
                {
                        ret = this.stCurDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStopMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStopMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStopMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.stCurPos */
                {
                        ret = this.stCurPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurDir */
                {
                        ret = this.stCurDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleStopMove.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleStopMove.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleStopMove.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.stCurPos */
                {
                        ret = this.stCurPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurDir */
                {
                        ret = this.stCurDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.stCurPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurPos */
                if (0 > indent)
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurDir */
                if (0 > indent)
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 跳跃 */
public class CSFrameBattleJump : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chReserved; // 保留字段

        /* construct methods */
        public CSFrameBattleJump()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleJump.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleJump.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleJump.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chReserved */
                {
                        ret = destBuf.writeInt8(this.chReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleJump.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleJump.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleJump.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chReserved */
                {
                        ret = srcBuf.readInt8(ref this.chReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleJump.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleJump.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleJump.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chReserved */
                {
                        ret = srcBuf.readInt8(ref this.chReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chReserved]", "0x{0:x2}", this.chReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 设置走路状态 */
public class CSFrameBattleWalk : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chWalkFlag; // 走路状态

        /* construct methods */
        public CSFrameBattleWalk()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleWalk.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleWalk.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleWalk.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chWalkFlag */
                {
                        ret = destBuf.writeInt8(this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleWalk.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleWalk.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleWalk.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chWalkFlag */
                {
                        ret = srcBuf.readInt8(ref this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleWalk.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleWalk.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleWalk.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chWalkFlag */
                {
                        ret = srcBuf.readInt8(ref this.chWalkFlag);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chWalkFlag */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chWalkFlag]", "0x{0:x2}", this.chWalkFlag);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 转向 */
public class CSFrameBattleFaceDir : tsf4g_csharp_interface
{
        /* public members */
        public CSPoint  stCurDir; // 朝向

        /* construct methods */
        public CSFrameBattleFaceDir()
        {
                stCurDir = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleFaceDir.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleFaceDir.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleFaceDir.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.stCurDir */
                {
                        ret = this.stCurDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleFaceDir.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleFaceDir.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleFaceDir.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.stCurDir */
                {
                        ret = this.stCurDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleFaceDir.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleFaceDir.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleFaceDir.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.stCurDir */
                {
                        ret = this.stCurDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.stCurDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurDir */
                if (0 > indent)
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 使用道具 */
public class CSFrameBattleUseItem : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chItemType; // 道具类型
        public Int32  iResID; // 道具资源id
        public sbyte  chSkillItemBarType; // 技能道具栏
        public sbyte  chChangeNexSkillItem; // 是否切换下一个技能道具,1:是
        public Int32  iParam1; // 参数1
        public sbyte  chInputMode; // 技能释放输入模式
        public CSPoint  stTargetPos; // 目标位置
        public Int32  iTargetObjID; // 目标ObjID

        /* construct methods */
        public CSFrameBattleUseItem()
        {
                stTargetPos = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleUseItem.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleUseItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleUseItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chItemType */
                {
                        ret = destBuf.writeInt8(this.chItemType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iResID */
                {
                        ret = destBuf.writeInt32(this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chSkillItemBarType */
                {
                        ret = destBuf.writeInt8(this.chSkillItemBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chChangeNexSkillItem */
                {
                        ret = destBuf.writeInt8(this.chChangeNexSkillItem);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iParam1 */
                {
                        ret = destBuf.writeInt32(this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chInputMode */
                {
                        ret = destBuf.writeInt8(this.chInputMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iTargetObjID */
                {
                        ret = destBuf.writeInt32(this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleUseItem.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleUseItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleUseItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chItemType */
                {
                        ret = srcBuf.readInt8(ref this.chItemType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chSkillItemBarType */
                {
                        ret = srcBuf.readInt8(ref this.chSkillItemBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chChangeNexSkillItem */
                {
                        ret = srcBuf.readInt8(ref this.chChangeNexSkillItem);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chInputMode */
                {
                        ret = srcBuf.readInt8(ref this.chInputMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iTargetObjID */
                {
                        ret = srcBuf.readInt32(ref this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleUseItem.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleUseItem.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleUseItem.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chItemType */
                {
                        ret = srcBuf.readInt8(ref this.chItemType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iResID */
                {
                        ret = srcBuf.readInt32(ref this.iResID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chSkillItemBarType */
                {
                        ret = srcBuf.readInt8(ref this.chSkillItemBarType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chChangeNexSkillItem */
                {
                        ret = srcBuf.readInt8(ref this.chChangeNexSkillItem);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chInputMode */
                {
                        ret = srcBuf.readInt8(ref this.chInputMode);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stTargetPos */
                {
                        ret = this.stTargetPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iTargetObjID */
                {
                        ret = srcBuf.readInt32(ref this.iTargetObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chItemType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chItemType]", "0x{0:x2}", this.chItemType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iResID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iResID]", "{0:d}", this.iResID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chSkillItemBarType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chSkillItemBarType]", "0x{0:x2}", this.chSkillItemBarType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chChangeNexSkillItem */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chChangeNexSkillItem]", "0x{0:x2}", this.chChangeNexSkillItem);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iParam1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iParam1]", "{0:d}", this.iParam1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chInputMode */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chInputMode]", "0x{0:x2}", this.chInputMode);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stTargetPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetPos */
                if (0 > indent)
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.iTargetObjID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iTargetObjID]", "{0:d}", this.iTargetObjID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 玩家游戏设置 */
public class CSFrameBattleTeamConfig : tsf4g_csharp_interface
{
        /* public members */
        public BattleTeamCreateSystemParam [] astSystems; // 系统设置

        /* construct methods */
        public CSFrameBattleTeamConfig()
        {
                astSystems = new BattleTeamCreateSystemParam[12];
                for(int astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                {
                        astSystems[astSystems_i] = new BattleTeamCreateSystemParam();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleTeamConfig.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleTeamConfig.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleTeamConfig.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleTeamConfig.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleTeamConfig.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleTeamConfig.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleTeamConfig.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleTeamConfig.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleTeamConfig.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.astSystems */
                {
                        for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                        {
                                ret = this.astSystems[astSystems_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.astSystems */
                for (Int32 astSystems_i = 0; astSystems_i < 12; astSystems_i++)
                {
                        if (null == this.astSystems[astSystems_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astSystems]", astSystems_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astSystems[astSystems_i] */
                        if (0 > indent)
                        {
                                ret = this.astSystems[astSystems_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astSystems[astSystems_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 游戏事件通知 */
public class CSFrameBattleEventNotify : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chEventType; // 事件类型
        public Int32  iParam1; // 事件参数1

        /* construct methods */
        public CSFrameBattleEventNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chEventType */
                {
                        ret = destBuf.writeInt8(this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iParam1 */
                {
                        ret = destBuf.writeInt32(this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iParam1 */
                {
                        ret = srcBuf.readInt32(ref this.iParam1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chEventType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEventType]", "0x{0:x2}", this.chEventType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iParam1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iParam1]", "{0:d}", this.iParam1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* gm指令 */
public class CSFrameBattleGmCmd : tsf4g_csharp_interface
{
        /* public members */
        public Int16  nCmdLen; // len
        public byte [] szCmd; // cmd

        /* construct methods */
        public CSFrameBattleGmCmd()
        {
                szCmd = new byte[128];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmCmd.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmCmd.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmCmd.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.nCmdLen */
                {
                        ret = destBuf.writeInt16(this.nCmdLen);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szCmd */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szCmd = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szCmd = destBuf.getUsedSize();

                        Int32 realSize4szCmd = TdrTypeUtil.cstrlen(this.szCmd);

                        if (realSize4szCmd >= 128)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szCmd, realSize4szCmd);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szCmd */
                        Int32 size4szCmd = destBuf.getUsedSize() - beginPos4szCmd;
                        ret = destBuf.writeUInt32((UInt32)(size4szCmd), sizePos4szCmd);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmCmd.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmCmd.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmCmd.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.nCmdLen */
                {
                        ret = srcBuf.readInt16(ref this.nCmdLen);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szCmd */
                {
                        /* get sizeinfo for this.szCmd */
                        UInt32 size4szCmd = 0;
                        ret = srcBuf.readUInt32(ref size4szCmd);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szCmd > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szCmd > this.szCmd.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szCmd)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szCmd, (int)size4szCmd);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szCmd[(int)size4szCmd - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szCmd = TdrTypeUtil.cstrlen(this.szCmd) + 1;
                        if (size4szCmd != realSize4szCmd)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmCmd.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmCmd.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmCmd.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.nCmdLen */
                {
                        ret = srcBuf.readInt16(ref this.nCmdLen);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szCmd */
                {
                        Int32 size4szCmd = 128;

                        /* load */
                        ret = srcBuf.readCString(ref this.szCmd, (int)size4szCmd);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.nCmdLen */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nCmdLen]", "{0:d}", this.nCmdLen);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szCmd */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szCmd]", this.szCmd);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* gm指令修改服务器时间缩放 */
public class CSFrameBattleGmScaleTime : tsf4g_csharp_interface
{
        /* public members */
        public Int16  nScalePercent; // 时间缩放比例百分比

        /* construct methods */
        public CSFrameBattleGmScaleTime()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmScaleTime.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmScaleTime.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmScaleTime.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.nScalePercent */
                {
                        ret = destBuf.writeInt16(this.nScalePercent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmScaleTime.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmScaleTime.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmScaleTime.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.nScalePercent */
                {
                        ret = srcBuf.readInt16(ref this.nScalePercent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGmScaleTime.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGmScaleTime.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGmScaleTime.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.nScalePercent */
                {
                        ret = srcBuf.readInt16(ref this.nScalePercent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.nScalePercent */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nScalePercent]", "{0:d}", this.nScalePercent);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 切换快捷栏 */
public class CSFrameBattleSetHotbarIndex : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iHotbarIndex; // 快捷栏索引

        /* construct methods */
        public CSFrameBattleSetHotbarIndex()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSetHotbarIndex.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSetHotbarIndex.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSetHotbarIndex.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iHotbarIndex */
                {
                        ret = destBuf.writeInt32(this.iHotbarIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSetHotbarIndex.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSetHotbarIndex.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSetHotbarIndex.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iHotbarIndex */
                {
                        ret = srcBuf.readInt32(ref this.iHotbarIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSetHotbarIndex.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSetHotbarIndex.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSetHotbarIndex.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iHotbarIndex */
                {
                        ret = srcBuf.readInt32(ref this.iHotbarIndex);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iHotbarIndex */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iHotbarIndex]", "{0:d}", this.iHotbarIndex);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 物品栏交换 */
public class CSFrameBattleSwapItemSlot : tsf4g_csharp_interface
{
        /* public members */
        public byte [] szKey1; // 1槽位key
        public Int16  nKey1Len; // key1长度
        public Int32  iIndex1; // 1槽位index
        public byte [] szKey2; // 2槽位key
        public Int16  nKey2Len; // key2长度
        public Int32  iIndex2; // 2槽位index

        /* construct methods */
        public CSFrameBattleSwapItemSlot()
        {
                szKey1 = new byte[256];
                szKey2 = new byte[256];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSwapItemSlot.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSwapItemSlot.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSwapItemSlot.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.szKey1 */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szKey1 = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szKey1 = destBuf.getUsedSize();

                        Int32 realSize4szKey1 = TdrTypeUtil.cstrlen(this.szKey1);

                        if (realSize4szKey1 >= 256)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szKey1, realSize4szKey1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szKey1 */
                        Int32 size4szKey1 = destBuf.getUsedSize() - beginPos4szKey1;
                        ret = destBuf.writeUInt32((UInt32)(size4szKey1), sizePos4szKey1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.nKey1Len */
                {
                        ret = destBuf.writeInt16(this.nKey1Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iIndex1 */
                {
                        ret = destBuf.writeInt32(this.iIndex1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szKey2 */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szKey2 = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szKey2 = destBuf.getUsedSize();

                        Int32 realSize4szKey2 = TdrTypeUtil.cstrlen(this.szKey2);

                        if (realSize4szKey2 >= 256)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szKey2, realSize4szKey2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szKey2 */
                        Int32 size4szKey2 = destBuf.getUsedSize() - beginPos4szKey2;
                        ret = destBuf.writeUInt32((UInt32)(size4szKey2), sizePos4szKey2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.nKey2Len */
                {
                        ret = destBuf.writeInt16(this.nKey2Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iIndex2 */
                {
                        ret = destBuf.writeInt32(this.iIndex2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSwapItemSlot.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSwapItemSlot.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSwapItemSlot.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.szKey1 */
                {
                        /* get sizeinfo for this.szKey1 */
                        UInt32 size4szKey1 = 0;
                        ret = srcBuf.readUInt32(ref size4szKey1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szKey1 > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szKey1 > this.szKey1.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szKey1)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szKey1, (int)size4szKey1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szKey1[(int)size4szKey1 - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szKey1 = TdrTypeUtil.cstrlen(this.szKey1) + 1;
                        if (size4szKey1 != realSize4szKey1)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.nKey1Len */
                {
                        ret = srcBuf.readInt16(ref this.nKey1Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iIndex1 */
                {
                        ret = srcBuf.readInt32(ref this.iIndex1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szKey2 */
                {
                        /* get sizeinfo for this.szKey2 */
                        UInt32 size4szKey2 = 0;
                        ret = srcBuf.readUInt32(ref size4szKey2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szKey2 > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szKey2 > this.szKey2.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szKey2)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szKey2, (int)size4szKey2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szKey2[(int)size4szKey2 - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szKey2 = TdrTypeUtil.cstrlen(this.szKey2) + 1;
                        if (size4szKey2 != realSize4szKey2)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.nKey2Len */
                {
                        ret = srcBuf.readInt16(ref this.nKey2Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iIndex2 */
                {
                        ret = srcBuf.readInt32(ref this.iIndex2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleSwapItemSlot.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleSwapItemSlot.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleSwapItemSlot.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.szKey1 */
                {
                        Int32 size4szKey1 = 256;

                        /* load */
                        ret = srcBuf.readCString(ref this.szKey1, (int)size4szKey1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.nKey1Len */
                {
                        ret = srcBuf.readInt16(ref this.nKey1Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iIndex1 */
                {
                        ret = srcBuf.readInt32(ref this.iIndex1);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szKey2 */
                {
                        Int32 size4szKey2 = 256;

                        /* load */
                        ret = srcBuf.readCString(ref this.szKey2, (int)size4szKey2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.nKey2Len */
                {
                        ret = srcBuf.readInt16(ref this.nKey2Len);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iIndex2 */
                {
                        ret = srcBuf.readInt32(ref this.iIndex2);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.szKey1 */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szKey1]", this.szKey1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKey1Len */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKey1Len]", "{0:d}", this.nKey1Len);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iIndex1 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iIndex1]", "{0:d}", this.iIndex1);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szKey2 */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szKey2]", this.szKey2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.nKey2Len */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[nKey2Len]", "{0:d}", this.nKey2Len);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iIndex2 */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iIndex2]", "{0:d}", this.iIndex2);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 服务器主动结束战斗通知 */
public class CSFrameBattleGameEndNotify : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chWinerLegionType; // 获胜方阵营

        /* construct methods */
        public CSFrameBattleGameEndNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chWinerLegionType */
                {
                        ret = destBuf.writeInt8(this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chWinerLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameBattleGameEndNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameBattleGameEndNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameBattleGameEndNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chWinerLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chWinerLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chWinerLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chWinerLegionType]", "0x{0:x2}", this.chWinerLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSFrameCmdData
{
        /* public members */
        public CSFrameActorCastSkill  stActorCastSkill; // 单位释放技能
        public CSFrameActorSkillEvent  stActorSkillEvent; // 单位技能释放事件
        public CSFrameActorAddSkillPoint  stActorAddSkillPoint; // 单位技能加点
        public CSFrameActorEquipOp  stActorEquipOp; // 单位装备操作
        public CSFrameBattleStartMove  stBattleStartMove; // 开始移动
        public CSFrameBattleStopMove  stBattleStopMove; // 停止移动
        public CSFrameBattleJump  stBattleJump; // 跳跃
        public CSFrameBattleWalk  stBattleWalk; // 走跑切换
        public CSFrameBattleFaceDir  stBattleFaceDir; // 转向
        public CSFrameBattleTeamConfig  stBattleTeamConfig; // 同步玩家游戏设置
        public CSFrameBattleEventNotify  stBattleEventNotify; // 游戏通用事件通知
        public CSFrameBattleSetHotbarIndex  stBattleSetHotbarIndex; // 切换快捷栏
        public CSFrameBattleSwapItemSlot  stBattleSwapItemSlot; // 物品栏交换
        public CSFrameBattleGmCmd  stBattleGmCmd; // gm指令
        public CSFrameBattleGmScaleTime  stBattleGmScaleTime; // gm指令修改服务器时间缩放
        public CSFrameBattleGameEndNotify  stBattleGameEndNotify; // 服务器主动结束战斗通知

        /* public methods */
        public CSFrameCmdData()
        {
                stActorCastSkill = null;
                stActorSkillEvent = null;
                stActorAddSkillPoint = null;
                stActorEquipOp = null;
                stBattleStartMove = null;
                stBattleStopMove = null;
                stBattleJump = null;
                stBattleWalk = null;
                stBattleFaceDir = null;
                stBattleTeamConfig = null;
                stBattleEventNotify = null;
                stBattleSetHotbarIndex = null;
                stBattleSwapItemSlot = null;
                stBattleGmCmd = null;
                stBattleGmScaleTime = null;
                stBattleGameEndNotify = null;
        }

        /*   Construct function */
        public TdrError.ErrorType construct(Int64 selector)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                if (1 == selector)
                {
                        if (null == this.stActorCastSkill)
                        {
                                this.stActorCastSkill = new CSFrameActorCastSkill();
                        }

                        ret = this.stActorCastSkill.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (2 == selector)
                {
                        if (null == this.stActorSkillEvent)
                        {
                                this.stActorSkillEvent = new CSFrameActorSkillEvent();
                        }

                        ret = this.stActorSkillEvent.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (3 == selector)
                {
                        if (null == this.stActorAddSkillPoint)
                        {
                                this.stActorAddSkillPoint = new CSFrameActorAddSkillPoint();
                        }

                        ret = this.stActorAddSkillPoint.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (4 == selector)
                {
                        if (null == this.stActorEquipOp)
                        {
                                this.stActorEquipOp = new CSFrameActorEquipOp();
                        }

                        ret = this.stActorEquipOp.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (10 == selector)
                {
                        if (null == this.stBattleStartMove)
                        {
                                this.stBattleStartMove = new CSFrameBattleStartMove();
                        }

                        ret = this.stBattleStartMove.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (11 == selector)
                {
                        if (null == this.stBattleStopMove)
                        {
                                this.stBattleStopMove = new CSFrameBattleStopMove();
                        }

                        ret = this.stBattleStopMove.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (12 == selector)
                {
                        if (null == this.stBattleJump)
                        {
                                this.stBattleJump = new CSFrameBattleJump();
                        }

                        ret = this.stBattleJump.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (13 == selector)
                {
                        if (null == this.stBattleWalk)
                        {
                                this.stBattleWalk = new CSFrameBattleWalk();
                        }

                        ret = this.stBattleWalk.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (14 == selector)
                {
                        if (null == this.stBattleFaceDir)
                        {
                                this.stBattleFaceDir = new CSFrameBattleFaceDir();
                        }

                        ret = this.stBattleFaceDir.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (30 == selector)
                {
                        if (null == this.stBattleTeamConfig)
                        {
                                this.stBattleTeamConfig = new CSFrameBattleTeamConfig();
                        }

                        ret = this.stBattleTeamConfig.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (31 == selector)
                {
                        if (null == this.stBattleEventNotify)
                        {
                                this.stBattleEventNotify = new CSFrameBattleEventNotify();
                        }

                        ret = this.stBattleEventNotify.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (32 == selector)
                {
                        if (null == this.stBattleSetHotbarIndex)
                        {
                                this.stBattleSetHotbarIndex = new CSFrameBattleSetHotbarIndex();
                        }

                        ret = this.stBattleSetHotbarIndex.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (33 == selector)
                {
                        if (null == this.stBattleSwapItemSlot)
                        {
                                this.stBattleSwapItemSlot = new CSFrameBattleSwapItemSlot();
                        }

                        ret = this.stBattleSwapItemSlot.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (100 == selector)
                {
                        if (null == this.stBattleGmCmd)
                        {
                                this.stBattleGmCmd = new CSFrameBattleGmCmd();
                        }

                        ret = this.stBattleGmCmd.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (101 == selector)
                {
                        if (null == this.stBattleGmScaleTime)
                        {
                                this.stBattleGmScaleTime = new CSFrameBattleGmScaleTime();
                        }

                        ret = this.stBattleGmScaleTime.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (102 == selector)
                {
                        if (null == this.stBattleGameEndNotify)
                        {
                                this.stBattleGameEndNotify = new CSFrameBattleGameEndNotify();
                        }

                        ret = this.stBattleGameEndNotify.construct();
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        /*   pack function */
        public TdrError.ErrorType pack(Int64 selector, ref byte[] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(selector, ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(Int64 selector, ref TdrWriteBuf destBuf, uint cutVer)
        {
                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdData.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdData.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdData.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                if (1 == selector)
                {
                        if (null == this.stActorCastSkill)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stActorCastSkill.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (2 == selector)
                {
                        if (null == this.stActorSkillEvent)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stActorSkillEvent.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (3 == selector)
                {
                        if (null == this.stActorAddSkillPoint)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stActorAddSkillPoint.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (4 == selector)
                {
                        if (null == this.stActorEquipOp)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stActorEquipOp.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (10 == selector)
                {
                        if (null == this.stBattleStartMove)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleStartMove.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (11 == selector)
                {
                        if (null == this.stBattleStopMove)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleStopMove.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (12 == selector)
                {
                        if (null == this.stBattleJump)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleJump.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (13 == selector)
                {
                        if (null == this.stBattleWalk)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleWalk.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (14 == selector)
                {
                        if (null == this.stBattleFaceDir)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleFaceDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (30 == selector)
                {
                        if (null == this.stBattleTeamConfig)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleTeamConfig.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (31 == selector)
                {
                        if (null == this.stBattleEventNotify)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleEventNotify.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (32 == selector)
                {
                        if (null == this.stBattleSetHotbarIndex)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleSetHotbarIndex.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (33 == selector)
                {
                        if (null == this.stBattleSwapItemSlot)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleSwapItemSlot.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (100 == selector)
                {
                        if (null == this.stBattleGmCmd)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleGmCmd.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (101 == selector)
                {
                        if (null == this.stBattleGmScaleTime)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleGmScaleTime.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }
                else if (102 == selector)
                {
                        if (null == this.stBattleGameEndNotify)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = this.stBattleGameEndNotify.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(Int64 selector, ref byte[] buffer,int size, ref int usedSize , uint cutVer)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer,size);
                TdrError.ErrorType ret = unpack(selector, ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        /*   unpack function */
        public TdrError.ErrorType unpack(Int64 selector, ref TdrReadBuf srcBuf, uint cutVer)
        {
                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdData.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdData.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdData.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                if (1 == selector)
                {
                        if (null == this.stActorCastSkill)
                        {
                                this.stActorCastSkill = new CSFrameActorCastSkill();
                        }

                        ret = this.stActorCastSkill.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (2 == selector)
                {
                        if (null == this.stActorSkillEvent)
                        {
                                this.stActorSkillEvent = new CSFrameActorSkillEvent();
                        }

                        ret = this.stActorSkillEvent.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (3 == selector)
                {
                        if (null == this.stActorAddSkillPoint)
                        {
                                this.stActorAddSkillPoint = new CSFrameActorAddSkillPoint();
                        }

                        ret = this.stActorAddSkillPoint.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (4 == selector)
                {
                        if (null == this.stActorEquipOp)
                        {
                                this.stActorEquipOp = new CSFrameActorEquipOp();
                        }

                        ret = this.stActorEquipOp.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (10 == selector)
                {
                        if (null == this.stBattleStartMove)
                        {
                                this.stBattleStartMove = new CSFrameBattleStartMove();
                        }

                        ret = this.stBattleStartMove.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (11 == selector)
                {
                        if (null == this.stBattleStopMove)
                        {
                                this.stBattleStopMove = new CSFrameBattleStopMove();
                        }

                        ret = this.stBattleStopMove.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (12 == selector)
                {
                        if (null == this.stBattleJump)
                        {
                                this.stBattleJump = new CSFrameBattleJump();
                        }

                        ret = this.stBattleJump.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (13 == selector)
                {
                        if (null == this.stBattleWalk)
                        {
                                this.stBattleWalk = new CSFrameBattleWalk();
                        }

                        ret = this.stBattleWalk.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (14 == selector)
                {
                        if (null == this.stBattleFaceDir)
                        {
                                this.stBattleFaceDir = new CSFrameBattleFaceDir();
                        }

                        ret = this.stBattleFaceDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (30 == selector)
                {
                        if (null == this.stBattleTeamConfig)
                        {
                                this.stBattleTeamConfig = new CSFrameBattleTeamConfig();
                        }

                        ret = this.stBattleTeamConfig.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (31 == selector)
                {
                        if (null == this.stBattleEventNotify)
                        {
                                this.stBattleEventNotify = new CSFrameBattleEventNotify();
                        }

                        ret = this.stBattleEventNotify.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (32 == selector)
                {
                        if (null == this.stBattleSetHotbarIndex)
                        {
                                this.stBattleSetHotbarIndex = new CSFrameBattleSetHotbarIndex();
                        }

                        ret = this.stBattleSetHotbarIndex.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (33 == selector)
                {
                        if (null == this.stBattleSwapItemSlot)
                        {
                                this.stBattleSwapItemSlot = new CSFrameBattleSwapItemSlot();
                        }

                        ret = this.stBattleSwapItemSlot.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (100 == selector)
                {
                        if (null == this.stBattleGmCmd)
                        {
                                this.stBattleGmCmd = new CSFrameBattleGmCmd();
                        }

                        ret = this.stBattleGmCmd.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (101 == selector)
                {
                        if (null == this.stBattleGmScaleTime)
                        {
                                this.stBattleGmScaleTime = new CSFrameBattleGmScaleTime();
                        }

                        ret = this.stBattleGmScaleTime.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (102 == selector)
                {
                        if (null == this.stBattleGameEndNotify)
                        {
                                this.stBattleGameEndNotify = new CSFrameBattleGameEndNotify();
                        }

                        ret = this.stBattleGameEndNotify.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(Int64 selector, ref byte[] buffer,int size, ref int usedSize , uint cutVer)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer,size);
                TdrError.ErrorType ret = load(selector, ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        /*   load function */
        public TdrError.ErrorType load(Int64 selector, ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdData.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdData.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdData.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                if (1 == selector)
                {
                        if (null == this.stActorCastSkill)
                        {
                                this.stActorCastSkill = new CSFrameActorCastSkill();
                        }

                        ret = this.stActorCastSkill.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (2 == selector)
                {
                        if (null == this.stActorSkillEvent)
                        {
                                this.stActorSkillEvent = new CSFrameActorSkillEvent();
                        }

                        ret = this.stActorSkillEvent.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (3 == selector)
                {
                        if (null == this.stActorAddSkillPoint)
                        {
                                this.stActorAddSkillPoint = new CSFrameActorAddSkillPoint();
                        }

                        ret = this.stActorAddSkillPoint.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (4 == selector)
                {
                        if (null == this.stActorEquipOp)
                        {
                                this.stActorEquipOp = new CSFrameActorEquipOp();
                        }

                        ret = this.stActorEquipOp.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (10 == selector)
                {
                        if (null == this.stBattleStartMove)
                        {
                                this.stBattleStartMove = new CSFrameBattleStartMove();
                        }

                        ret = this.stBattleStartMove.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (11 == selector)
                {
                        if (null == this.stBattleStopMove)
                        {
                                this.stBattleStopMove = new CSFrameBattleStopMove();
                        }

                        ret = this.stBattleStopMove.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (12 == selector)
                {
                        if (null == this.stBattleJump)
                        {
                                this.stBattleJump = new CSFrameBattleJump();
                        }

                        ret = this.stBattleJump.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (13 == selector)
                {
                        if (null == this.stBattleWalk)
                        {
                                this.stBattleWalk = new CSFrameBattleWalk();
                        }

                        ret = this.stBattleWalk.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (14 == selector)
                {
                        if (null == this.stBattleFaceDir)
                        {
                                this.stBattleFaceDir = new CSFrameBattleFaceDir();
                        }

                        ret = this.stBattleFaceDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (30 == selector)
                {
                        if (null == this.stBattleTeamConfig)
                        {
                                this.stBattleTeamConfig = new CSFrameBattleTeamConfig();
                        }

                        ret = this.stBattleTeamConfig.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (31 == selector)
                {
                        if (null == this.stBattleEventNotify)
                        {
                                this.stBattleEventNotify = new CSFrameBattleEventNotify();
                        }

                        ret = this.stBattleEventNotify.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (32 == selector)
                {
                        if (null == this.stBattleSetHotbarIndex)
                        {
                                this.stBattleSetHotbarIndex = new CSFrameBattleSetHotbarIndex();
                        }

                        ret = this.stBattleSetHotbarIndex.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (33 == selector)
                {
                        if (null == this.stBattleSwapItemSlot)
                        {
                                this.stBattleSwapItemSlot = new CSFrameBattleSwapItemSlot();
                        }

                        ret = this.stBattleSwapItemSlot.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (100 == selector)
                {
                        if (null == this.stBattleGmCmd)
                        {
                                this.stBattleGmCmd = new CSFrameBattleGmCmd();
                        }

                        ret = this.stBattleGmCmd.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (101 == selector)
                {
                        if (null == this.stBattleGmScaleTime)
                        {
                                this.stBattleGmScaleTime = new CSFrameBattleGmScaleTime();
                        }

                        ret = this.stBattleGmScaleTime.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (102 == selector)
                {
                        if (null == this.stBattleGameEndNotify)
                        {
                                this.stBattleGameEndNotify = new CSFrameBattleGameEndNotify();
                        }

                        ret = this.stBattleGameEndNotify.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        TdrError.ErrorType visualize(Int64 selector, ref string buffer, int indent, char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(selector, ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /*   visualize function */
        public TdrError.ErrorType visualize(Int64 selector, ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                if (1 == selector)
                {
                        if (null == this.stActorCastSkill)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stActorCastSkill]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stActorCastSkill */
                        if (0 > indent)
                        {
                                ret = this.stActorCastSkill.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stActorCastSkill.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (2 == selector)
                {
                        if (null == this.stActorSkillEvent)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stActorSkillEvent]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stActorSkillEvent */
                        if (0 > indent)
                        {
                                ret = this.stActorSkillEvent.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stActorSkillEvent.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (3 == selector)
                {
                        if (null == this.stActorAddSkillPoint)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stActorAddSkillPoint]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stActorAddSkillPoint */
                        if (0 > indent)
                        {
                                ret = this.stActorAddSkillPoint.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stActorAddSkillPoint.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (4 == selector)
                {
                        if (null == this.stActorEquipOp)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stActorEquipOp]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stActorEquipOp */
                        if (0 > indent)
                        {
                                ret = this.stActorEquipOp.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stActorEquipOp.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (10 == selector)
                {
                        if (null == this.stBattleStartMove)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleStartMove]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleStartMove */
                        if (0 > indent)
                        {
                                ret = this.stBattleStartMove.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleStartMove.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (11 == selector)
                {
                        if (null == this.stBattleStopMove)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleStopMove]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleStopMove */
                        if (0 > indent)
                        {
                                ret = this.stBattleStopMove.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleStopMove.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (12 == selector)
                {
                        if (null == this.stBattleJump)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleJump]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleJump */
                        if (0 > indent)
                        {
                                ret = this.stBattleJump.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleJump.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (13 == selector)
                {
                        if (null == this.stBattleWalk)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleWalk]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleWalk */
                        if (0 > indent)
                        {
                                ret = this.stBattleWalk.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleWalk.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (14 == selector)
                {
                        if (null == this.stBattleFaceDir)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleFaceDir]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleFaceDir */
                        if (0 > indent)
                        {
                                ret = this.stBattleFaceDir.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleFaceDir.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (30 == selector)
                {
                        if (null == this.stBattleTeamConfig)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleTeamConfig]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleTeamConfig */
                        if (0 > indent)
                        {
                                ret = this.stBattleTeamConfig.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleTeamConfig.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (31 == selector)
                {
                        if (null == this.stBattleEventNotify)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleEventNotify]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleEventNotify */
                        if (0 > indent)
                        {
                                ret = this.stBattleEventNotify.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleEventNotify.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (32 == selector)
                {
                        if (null == this.stBattleSetHotbarIndex)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleSetHotbarIndex]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleSetHotbarIndex */
                        if (0 > indent)
                        {
                                ret = this.stBattleSetHotbarIndex.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleSetHotbarIndex.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (33 == selector)
                {
                        if (null == this.stBattleSwapItemSlot)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleSwapItemSlot]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleSwapItemSlot */
                        if (0 > indent)
                        {
                                ret = this.stBattleSwapItemSlot.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleSwapItemSlot.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (100 == selector)
                {
                        if (null == this.stBattleGmCmd)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleGmCmd]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleGmCmd */
                        if (0 > indent)
                        {
                                ret = this.stBattleGmCmd.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleGmCmd.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (101 == selector)
                {
                        if (null == this.stBattleGmScaleTime)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleGmScaleTime]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleGmScaleTime */
                        if (0 > indent)
                        {
                                ret = this.stBattleGmScaleTime.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleGmScaleTime.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }
                else if (102 == selector)
                {
                        if (null == this.stBattleGameEndNotify)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_ARG_IS_NULL;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stBattleGameEndNotify]", true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.stBattleGameEndNotify */
                        if (0 > indent)
                        {
                                ret = this.stBattleGameEndNotify.visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.stBattleGameEndNotify.visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* version infomation */
        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 帧同步指令请求 */
public class CSFrameCmdReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iObjID; // 对象ID
        public sbyte  chTeamType; // 队伍类型
        public sbyte  chEventType; // 指令类型
        public CSFrameCmdData  stCmdData; // 数据

        /* construct methods */
        public CSFrameCmdReq()
        {
                stCmdData = new CSFrameCmdData();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iObjID */
                {
                        ret = destBuf.writeInt32(this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chTeamType */
                {
                        ret = destBuf.writeInt8(this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chEventType */
                {
                        ret = destBuf.writeInt8(this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCmdData */
                {
                        Int64 selector4stCmdData = this.chEventType;
                        ret = this.stCmdData.pack(selector4stCmdData, ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iObjID */
                {
                        ret = srcBuf.readInt32(ref this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCmdData */
                {
                        Int64 selector4stCmdData = this.chEventType;
                        ret = this.stCmdData.unpack(selector4stCmdData, ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFrameCmdReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFrameCmdReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFrameCmdReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iObjID */
                {
                        ret = srcBuf.readInt32(ref this.iObjID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chTeamType */
                {
                        ret = srcBuf.readInt8(ref this.chTeamType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chEventType */
                {
                        ret = srcBuf.readInt8(ref this.chEventType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCmdData */
                {
                        Int64 selector4stCmdData = this.chEventType;
                        ret = this.stCmdData.load(selector4stCmdData, ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iObjID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iObjID]", "{0:d}", this.iObjID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chTeamType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chTeamType]", "0x{0:x2}", this.chTeamType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chEventType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEventType]", "0x{0:x2}", this.chEventType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stCmdData */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCmdData]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCmdData */
                Int64 selector4stCmdData = this.chEventType;
                if (0 > indent)
                {
                        ret = this.stCmdData.visualize(selector4stCmdData, ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCmdData.visualize(selector4stCmdData, ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 序列号的指令 */
public class CSActorFrameEvent : tsf4g_csharp_interface
{
        /* public members */
        public CSFrameCmdReq  stFrameCmd; // 指令序列数组

        /* construct methods */
        public CSActorFrameEvent()
        {
                stFrameCmd = new CSFrameCmdReq();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSActorFrameEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSActorFrameEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSActorFrameEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.stFrameCmd */
                {
                        ret = this.stFrameCmd.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSActorFrameEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSActorFrameEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSActorFrameEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.stFrameCmd */
                {
                        ret = this.stFrameCmd.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSActorFrameEvent.CURRVERSION < cutVer)
                {
                        cutVer = CSActorFrameEvent.CURRVERSION;
                }

                /* check cutversion */
                if (CSActorFrameEvent.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.stFrameCmd */
                {
                        ret = this.stFrameCmd.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.stFrameCmd */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stFrameCmd]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stFrameCmd */
                if (0 > indent)
                {
                        ret = this.stFrameCmd.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stFrameCmd.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 1帧事件广播 */
public class CSBattleFrameEventNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrame; // 服务器当前帧
        public sbyte  chCmdCnt; // 指令个数
        public CSActorFrameEvent [] astCmdList; // 指令列表

        /* construct methods */
        public CSBattleFrameEventNotify()
        {
                astCmdList = new CSActorFrameEvent[60];
                for(int astCmdList_i = 0; astCmdList_i < 60; astCmdList_i++)
                {
                        astCmdList[astCmdList_i] = new CSActorFrameEvent();
                }

        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleFrameEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleFrameEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleFrameEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chCmdCnt */
                {
                        ret = destBuf.writeInt8(this.chCmdCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.astCmdList */
                {
                        if (0 > this.chCmdCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (60 < this.chCmdCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astCmdList_i = 0; astCmdList_i < this.chCmdCnt; astCmdList_i++)
                        {
                                ret = this.astCmdList[astCmdList_i].pack(ref destBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
#if (DEBUG)
                                        StackTrace st = new StackTrace(true);
                                        for (int i = 0; i < st.FrameCount; i++)
                                        {
                                                if (null != st.GetFrame(i).GetFileName())
                                                {
                                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                                }
                                        }
#endif
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleFrameEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleFrameEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleFrameEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chCmdCnt */
                {
                        ret = srcBuf.readInt8(ref this.chCmdCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.astCmdList */
                {
                        if (0 > this.chCmdCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                        }
                        if (60 < this.chCmdCnt)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                        }
                        for (Int32 astCmdList_i = 0; astCmdList_i < this.chCmdCnt; astCmdList_i++)
                        {
                                ret = this.astCmdList[astCmdList_i].unpack(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSBattleFrameEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSBattleFrameEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSBattleFrameEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chCmdCnt */
                {
                        ret = srcBuf.readInt8(ref this.chCmdCnt);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.astCmdList */
                {
                        for (Int32 astCmdList_i = 0; astCmdList_i < 60; astCmdList_i++)
                        {
                                ret = this.astCmdList[astCmdList_i].load(ref srcBuf, cutVer);
                                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                                {
                                        return ret;
                                }
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chCmdCnt */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chCmdCnt]", "0x{0:x2}", this.chCmdCnt);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.astCmdList */
                if (0 > this.chCmdCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_MINUS_REFER_VALUE;
                }
                if (60 < this.chCmdCnt)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_REFER_SURPASS_COUNT;
                }
                for (Int32 astCmdList_i = 0; astCmdList_i < this.chCmdCnt; astCmdList_i++)
                {
                        if (null == this.astCmdList[astCmdList_i])
                        {
                                continue;
                        }

                        ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[astCmdList]", astCmdList_i, true);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* visualize children of this.astCmdList[astCmdList_i] */
                        if (0 > indent)
                        {
                                ret = this.astCmdList[astCmdList_i].visualize(ref destBuf, indent, separator);
                        } else
                        {
                                ret = this.astCmdList[astCmdList_i].visualize(ref destBuf, indent + 1, separator);
                        }
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSMiniMapEventReq : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chEvent; // 事件类型
        public CSPoint  stTargetPos; // 目标位置

        /* construct methods */
        public CSMiniMapEventReq()
        {
                stTargetPos = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chEvent */
                {
                        ret = destBuf.writeInt8(this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chEvent */
                {
                        ret = srcBuf.readInt8(ref this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventReq.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chEvent */
                {
                        ret = srcBuf.readInt8(ref this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stTargetPos */
                {
                        ret = this.stTargetPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chEvent */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEvent]", "0x{0:x2}", this.chEvent);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stTargetPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetPos */
                if (0 > indent)
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSMiniMapEventNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 发出玩家ID
        public sbyte  chEvent; // 事件类型
        public CSPoint  stTargetPos; // 目标位置

        /* construct methods */
        public CSMiniMapEventNotify()
        {
                stTargetPos = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.chEvent */
                {
                        ret = destBuf.writeInt8(this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.chEvent */
                {
                        ret = srcBuf.readInt8(ref this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stTargetPos */
                {
                        ret = this.stTargetPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSMiniMapEventNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSMiniMapEventNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSMiniMapEventNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.chEvent */
                {
                        ret = srcBuf.readInt8(ref this.chEvent);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stTargetPos */
                {
                        ret = this.stTargetPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.chEvent */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chEvent]", "0x{0:x2}", this.chEvent);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stTargetPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stTargetPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stTargetPos */
                if (0 > indent)
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stTargetPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderReq : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSSurrenderReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReq.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReq.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReq.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderAgree : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSSurrenderAgree()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgree.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgree.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgree.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgree.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgree.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgree.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgree.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgree.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgree.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderRefuse : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSSurrenderRefuse()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuse.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuse.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuse.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuse.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuse.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuse.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuse.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuse.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuse.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderAgreeNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 发出玩家ID

        /* construct methods */
        public CSSurrenderAgreeNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgreeNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgreeNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgreeNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgreeNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgreeNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgreeNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderAgreeNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderAgreeNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderAgreeNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderRefuseNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 发出玩家ID

        /* construct methods */
        public CSSurrenderRefuseNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuseNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuseNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuseNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuseNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuseNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuseNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderRefuseNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderRefuseNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderRefuseNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderResult : tsf4g_csharp_interface
{
        /* public members */
        public sbyte  chLoseLegionType; // 阵营类型

        /* construct methods */
        public CSSurrenderResult()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderResult.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderResult.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderResult.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.chLoseLegionType */
                {
                        ret = destBuf.writeInt8(this.chLoseLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderResult.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderResult.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderResult.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.chLoseLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLoseLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderResult.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderResult.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderResult.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.chLoseLegionType */
                {
                        ret = srcBuf.readInt8(ref this.chLoseLegionType);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.chLoseLegionType */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[chLoseLegionType]", "0x{0:x2}", this.chLoseLegionType);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSSurrenderReqNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 发出玩家ID

        /* construct methods */
        public CSSurrenderReqNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReqNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReqNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReqNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReqNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReqNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReqNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSurrenderReqNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSSurrenderReqNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSSurrenderReqNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSFetchFrameDataReq : tsf4g_csharp_interface
{
        /* public members */
        public byte  bFinish; // 是否结束

        /* construct methods */
        public CSFetchFrameDataReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFetchFrameDataReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFetchFrameDataReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFetchFrameDataReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bFinish */
                {
                        ret = destBuf.writeUInt8(this.bFinish);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFetchFrameDataReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFetchFrameDataReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFetchFrameDataReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bFinish */
                {
                        ret = srcBuf.readUInt8(ref this.bFinish);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSFetchFrameDataReq.CURRVERSION < cutVer)
                {
                        cutVer = CSFetchFrameDataReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSFetchFrameDataReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bFinish */
                {
                        ret = srcBuf.readUInt8(ref this.bFinish);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bFinish */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bFinish]", "0x{0:x2}", this.bFinish);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSPlayerConnectNotify : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 玩家ID
        public byte  bConnect; // 是否连接服务器

        /* construct methods */
        public CSPlayerConnectNotify()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPlayerConnectNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSPlayerConnectNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSPlayerConnectNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.bConnect */
                {
                        ret = destBuf.writeUInt8(this.bConnect);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPlayerConnectNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSPlayerConnectNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSPlayerConnectNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.bConnect */
                {
                        ret = srcBuf.readUInt8(ref this.bConnect);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSPlayerConnectNotify.CURRVERSION < cutVer)
                {
                        cutVer = CSPlayerConnectNotify.CURRVERSION;
                }

                /* check cutversion */
                if (CSPlayerConnectNotify.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.bConnect */
                {
                        ret = srcBuf.readUInt8(ref this.bConnect);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.bConnect */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bConnect]", "0x{0:x2}", this.bConnect);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSReplaySvrNewBattleReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iBsRoomID; // 房间id
        public BattleCreateParams  stParams; // 战场创建信息

        /* construct methods */
        public CSReplaySvrNewBattleReq()
        {
                stParams = new BattleCreateParams();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrNewBattleReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrNewBattleReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrNewBattleReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iBsRoomID */
                {
                        ret = destBuf.writeInt32(this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stParams */
                {
                        ret = this.stParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrNewBattleReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrNewBattleReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrNewBattleReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stParams */
                {
                        ret = this.stParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrNewBattleReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrNewBattleReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrNewBattleReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stParams */
                {
                        ret = this.stParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iBsRoomID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBsRoomID]", "{0:d}", this.iBsRoomID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stParams */
                if (0 > indent)
                {
                        ret = this.stParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSReplaySvrPingReq : tsf4g_csharp_interface
{
        /* public members */
        public byte  bReserved; // 保留字段

        /* construct methods */
        public CSReplaySvrPingReq()
        {
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrPingReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrPingReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrPingReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.bReserved */
                {
                        ret = destBuf.writeUInt8(this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrPingReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrPingReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrPingReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrPingReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrPingReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrPingReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.bReserved */
                {
                        ret = srcBuf.readUInt8(ref this.bReserved);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.bReserved */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[bReserved]", "0x{0:x2}", this.bReserved);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


public class CSReplaySvrFrameMd5Report : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iBsRoomID; // 房间id
        public Int32  iFrame; // 帧号
        public Int32  iLength; // 长度
        public byte [] szDumpInfo; // dump数据
        public byte [] szProtoMd5; // protoMd5数据

        /* construct methods */
        public CSReplaySvrFrameMd5Report()
        {
                szDumpInfo = new byte[17];
                szProtoMd5 = new byte[17];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrFrameMd5Report.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrFrameMd5Report.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrFrameMd5Report.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iBsRoomID */
                {
                        ret = destBuf.writeInt32(this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iLength */
                {
                        ret = destBuf.writeInt32(this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szDumpInfo */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szDumpInfo = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szDumpInfo = destBuf.getUsedSize();

                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo);

                        if (realSize4szDumpInfo >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szDumpInfo, realSize4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szDumpInfo */
                        Int32 size4szDumpInfo = destBuf.getUsedSize() - beginPos4szDumpInfo;
                        ret = destBuf.writeUInt32((UInt32)(size4szDumpInfo), sizePos4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* pack member: this.szProtoMd5 */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szProtoMd5 = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szProtoMd5 = destBuf.getUsedSize();

                        Int32 realSize4szProtoMd5 = TdrTypeUtil.cstrlen(this.szProtoMd5);

                        if (realSize4szProtoMd5 >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szProtoMd5, realSize4szProtoMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szProtoMd5 */
                        Int32 size4szProtoMd5 = destBuf.getUsedSize() - beginPos4szProtoMd5;
                        ret = destBuf.writeUInt32((UInt32)(size4szProtoMd5), sizePos4szProtoMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrFrameMd5Report.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrFrameMd5Report.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrFrameMd5Report.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iLength */
                {
                        ret = srcBuf.readInt32(ref this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szDumpInfo */
                {
                        /* get sizeinfo for this.szDumpInfo */
                        UInt32 size4szDumpInfo = 0;
                        ret = srcBuf.readUInt32(ref size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szDumpInfo > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szDumpInfo > this.szDumpInfo.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szDumpInfo[(int)size4szDumpInfo - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo) + 1;
                        if (size4szDumpInfo != realSize4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                /* unpack member: this.szProtoMd5 */
                {
                        /* get sizeinfo for this.szProtoMd5 */
                        UInt32 size4szProtoMd5 = 0;
                        ret = srcBuf.readUInt32(ref size4szProtoMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szProtoMd5 > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szProtoMd5 > this.szProtoMd5.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szProtoMd5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szProtoMd5, (int)size4szProtoMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szProtoMd5[(int)size4szProtoMd5 - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szProtoMd5 = TdrTypeUtil.cstrlen(this.szProtoMd5) + 1;
                        if (size4szProtoMd5 != realSize4szProtoMd5)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrFrameMd5Report.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrFrameMd5Report.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrFrameMd5Report.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iLength */
                {
                        ret = srcBuf.readInt32(ref this.iLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szDumpInfo */
                {
                        Int32 size4szDumpInfo = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                /* load member: this.szProtoMd5 */
                {
                        Int32 size4szProtoMd5 = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szProtoMd5, (int)size4szProtoMd5);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iBsRoomID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBsRoomID]", "{0:d}", this.iBsRoomID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iLength */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iLength]", "{0:d}", this.iLength);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szDumpInfo */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szDumpInfo]", this.szDumpInfo);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szProtoMd5 */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szProtoMd5]", this.szProtoMd5);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 结束比赛上报 */
public class CSReplaySvrGameEndReq : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iFrame; // 帧号
        public Int32  iBsRoomID; // 房间id
        public CSStatisticsBattle  stStatisticsBattle; // 游戏统计数据
        public Int32  iDumpLength; // 长度
        public byte [] szDumpInfo; // dump数据

        /* construct methods */
        public CSReplaySvrGameEndReq()
        {
                stStatisticsBattle = new CSStatisticsBattle();
                szDumpInfo = new byte[17];
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iFrame */
                {
                        ret = destBuf.writeInt32(this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iBsRoomID */
                {
                        ret = destBuf.writeInt32(this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.iDumpLength */
                {
                        ret = destBuf.writeInt32(this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.szDumpInfo */
                {
                        /* record sizeinfo position */
                        Int32 sizePos4szDumpInfo = destBuf.getUsedSize();

                        /* reserve space for sizeinfo */
                        ret = destBuf.reserve(sizeof(UInt32));
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* record real-data's begin postion in buf */
                        Int32 beginPos4szDumpInfo = destBuf.getUsedSize();

                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo);

                        if (realSize4szDumpInfo >= 17)
                        {
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* pack */
                        ret = destBuf.writeCString(this.szDumpInfo, realSize4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* gurantee string or wstring terminated with null character */
                        ret = destBuf.writeUInt8(0x00);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* set sizeinfo for this.szDumpInfo */
                        Int32 size4szDumpInfo = destBuf.getUsedSize() - beginPos4szDumpInfo;
                        ret = destBuf.writeUInt32((UInt32)(size4szDumpInfo), sizePos4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.iDumpLength */
                {
                        ret = srcBuf.readInt32(ref this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.szDumpInfo */
                {
                        /* get sizeinfo for this.szDumpInfo */
                        UInt32 size4szDumpInfo = 0;
                        ret = srcBuf.readUInt32(ref size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }

                        /* check whether data in buffer are enough */
                        if ((int)size4szDumpInfo > srcBuf.getLeftSize())
                        {
                                return TdrError.ErrorType.TDR_ERR_SHORT_BUF_FOR_READ;
                        }

                        /* check whether sizeinfo is valid */
                        if ((int)size4szDumpInfo > this.szDumpInfo.GetLength(0))
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_BIG;
                        }

                        /* string or wstring must contains a null character */
                        if (1 > size4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_TOO_SMALL;
                        }

                        /* unpack */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                        /* check whether string-content is consistent with sizeinfo */
                        if (0 != this.szDumpInfo[(int)size4szDumpInfo - 1])
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                        Int32 realSize4szDumpInfo = TdrTypeUtil.cstrlen(this.szDumpInfo) + 1;
                        if (size4szDumpInfo != realSize4szDumpInfo)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return TdrError.ErrorType.TDR_ERR_STR_LEN_CONFLICT;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSReplaySvrGameEndReq.CURRVERSION < cutVer)
                {
                        cutVer = CSReplaySvrGameEndReq.CURRVERSION;
                }

                /* check cutversion */
                if (CSReplaySvrGameEndReq.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iFrame */
                {
                        ret = srcBuf.readInt32(ref this.iFrame);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iBsRoomID */
                {
                        ret = srcBuf.readInt32(ref this.iBsRoomID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stStatisticsBattle */
                {
                        ret = this.stStatisticsBattle.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.iDumpLength */
                {
                        ret = srcBuf.readInt32(ref this.iDumpLength);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.szDumpInfo */
                {
                        Int32 size4szDumpInfo = 17;

                        /* load */
                        ret = srcBuf.readCString(ref this.szDumpInfo, (int)size4szDumpInfo);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }

                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iFrame */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iFrame]", "{0:d}", this.iFrame);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.iBsRoomID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iBsRoomID]", "{0:d}", this.iBsRoomID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stStatisticsBattle */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stStatisticsBattle]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stStatisticsBattle */
                if (0 > indent)
                {
                        ret = this.stStatisticsBattle.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stStatisticsBattle.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.iDumpLength */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iDumpLength]", "{0:d}", this.iDumpLength);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.szDumpInfo */
                ret = TdrBufUtil.printString(ref destBuf, indent, separator, "[szDumpInfo]", this.szDumpInfo);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


/* 新玩家加入战斗 */
public class CSSyncNewPlayer : tsf4g_csharp_interface
{
        /* public members */
        public Int32  iPlayerID; // 玩家ID
        public BattleCreateParams  stCreateParams; // 战斗创建数据
        public CSPoint  stCurPos; // 玩家位置
        public CSPoint  stCurDir; // 玩家朝向

        /* construct methods */
        public CSSyncNewPlayer()
        {
                stCreateParams = new BattleCreateParams();
                stCurPos = new CSPoint();
                stCurDir = new CSPoint();
        }

        /* public methods */
        public TdrError.ErrorType construct()
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /*no need to  set defaultvalue */

                return ret;
        }

        public TdrError.ErrorType pack(ref byte[] buffer, int size,ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || (size > buffer.GetLength(0)))
                {
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrWriteBuf destBuf = TdrWriteBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = pack(ref destBuf, cutVer);
                if (ret == TdrError.ErrorType.TDR_NO_ERROR)
                {
                        buffer = destBuf.getBeginPtr();

                        usedSize = destBuf.getUsedSize();
                }

                return ret;
        }

        public TdrError.ErrorType pack(ref TdrWriteBuf destBuf,  uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSyncNewPlayer.CURRVERSION < cutVer)
                {
                        cutVer = CSSyncNewPlayer.CURRVERSION;
                }

                /* check cutversion */
                if (CSSyncNewPlayer.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* pack member: this.iPlayerID */
                {
                        ret = destBuf.writeInt32(this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCreateParams */
                {
                        ret = this.stCreateParams.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurPos */
                {
                        ret = this.stCurPos.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                /* pack member: this.stCurDir */
                {
                        ret = this.stCurDir.pack(ref destBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
#if (DEBUG)
                                StackTrace st = new StackTrace(true);
                                for (int i = 0; i < st.FrameCount; i++)
                                {
                                        if (null != st.GetFrame(i).GetFileName())
                                        {
                                                Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                        }
                                }
#endif
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType unpack(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = unpack(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType unpack(ref TdrReadBuf srcBuf, uint cutVer)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSyncNewPlayer.CURRVERSION < cutVer)
                {
                        cutVer = CSSyncNewPlayer.CURRVERSION;
                }

                /* check cutversion */
                if (CSSyncNewPlayer.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* unpack member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCreateParams */
                {
                        ret = this.stCreateParams.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurPos */
                {
                        ret = this.stCurPos.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* unpack member: this.stCurDir */
                {
                        ret = this.stCurDir.unpack(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        public TdrError.ErrorType load(ref byte [] buffer, int size, ref int usedSize , uint cutVer)
        {
                if (null == buffer || 0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = load(ref srcBuf, cutVer);

                usedSize = srcBuf.getUsedSize();

                return ret;
        }

        public TdrError.ErrorType load(ref TdrReadBuf srcBuf, uint cutVer)
        {
                srcBuf.disableEndian();
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* adjust cutversion */
                if (0 == cutVer || CSSyncNewPlayer.CURRVERSION < cutVer)
                {
                        cutVer = CSSyncNewPlayer.CURRVERSION;
                }

                /* check cutversion */
                if (CSSyncNewPlayer.BASEVERSION > cutVer)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return TdrError.ErrorType.TDR_ERR_CUTVER_TOO_SMALL;
                }

                /* load member: this.iPlayerID */
                {
                        ret = srcBuf.readInt32(ref this.iPlayerID);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCreateParams */
                {
                        ret = this.stCreateParams.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurPos */
                {
                        ret = this.stCurPos.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                /* load member: this.stCurDir */
                {
                        ret = this.stCurDir.load(ref srcBuf, cutVer);
                        if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                        {
                                return ret;
                        }
                }

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref string buffer,int indent , char separator)
        {
                TdrVisualBuf destBuf = new TdrVisualBuf();
                TdrError.ErrorType ret = visualize(ref destBuf, indent, separator);

                buffer = destBuf.getVisualBuf();

                return ret;
        }

        /* set indent = -1 to disable indent , default: separator = '\n' */
        public TdrError.ErrorType visualize(ref TdrVisualBuf destBuf, int indent, char separator)
        {
                TdrError.ErrorType ret = TdrError.ErrorType.TDR_NO_ERROR;

                /* visualize member: this.iPlayerID */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[iPlayerID]", "{0:d}", this.iPlayerID);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize member: this.stCreateParams */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCreateParams]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCreateParams */
                if (0 > indent)
                {
                        ret = this.stCreateParams.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCreateParams.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurPos */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurPos]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurPos */
                if (0 > indent)
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurPos.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                /* visualize member: this.stCurDir */
                ret = TdrBufUtil.printVariable(ref destBuf, indent, separator, "[stCurDir]", true);
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                        return ret;
                }

                /* visualize children of this.stCurDir */
                if (0 > indent)
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent, separator);
                } else
                {
                        ret = this.stCurDir.visualize(ref destBuf, indent + 1, separator);
                }
                if (TdrError.ErrorType.TDR_NO_ERROR != ret)
                {
                        return ret;
                }

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(byte[] buffer ,int size , ref uint sizeInfo)
        {
                if (0 == buffer.GetLength(0) || size > buffer.GetLength(0))
                {
#if (DEBUG)
                        StackTrace st = new StackTrace(true);
                        for (int i = 0; i < st.FrameCount; i++)
                        {
                                if (null != st.GetFrame(i).GetFileName())
                                {
                                        Console.WriteLine("TSF4G_TRACE:  " + st.GetFrame(i).ToString());
                                }
                        }
#endif
                    return TdrError.ErrorType.TDR_ERR_INVALID_BUFFER_PARAMETER;
                }

                TdrReadBuf srcBuf = TdrReadBuf.Ins.set(ref buffer, size);
                TdrError.ErrorType ret = getSizeInfo(srcBuf, ref sizeInfo);

                return ret;
        }

        public TdrError.ErrorType getSizeInfo(TdrReadBuf srcBuf, ref uint sizeInfo)
        {
                return TdrError.ErrorType.TDR_ERR_HAVE_NOT_SET_SIZEINFO;
        }

        /*  pstMeta version info */
        public static readonly uint BASEVERSION = 1;
        public static readonly uint CURRVERSION = 1;
        /*  entry version info */
}


}
